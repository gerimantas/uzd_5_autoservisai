Index: target/classes/templates/home.html
===================================================================
diff --git a/target/classes/templates/home.html b/target/classes/templates/home.html
deleted file mode 100644
--- a/target/classes/templates/home.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,11 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org" xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
-    <head>
-        <title>Spring Security Example</title>
-    </head>
-    <body>
-        <h1>Welcome!</h1>
-        
-        <p>Click <a th:href="@{/hello}">here</a> to see a greeting.</p>
-    </body>
-</html>
\ No newline at end of file
Index: target/classes/templates/ideti_specializacija.html
===================================================================
diff --git a/target/classes/templates/ideti_specializacija.html b/target/classes/templates/ideti_specializacija.html
deleted file mode 100644
--- a/target/classes/templates/ideti_specializacija.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,40 +0,0 @@
-<!DOCTYPE html>
-<html lang="en"xmlns:th="http://www.thymeleaf.org" >
-<head>
-    <meta charset="UTF-8">
-    <title>Specializacijos idejimas</title>
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<div class="container">
-    <h3>Specializacijos įdėjimas</h3>
-    <hr>
-    <h3>Įveskite specializacijos duomenis</h3>
-
-    <form th:action="@{/ideti/idejo_specializacija}" th:object="${specializacija}" method="POST">
-        <input th:field="*{pavadinimas}" type="text"  placeholder="Pavadinimas" class="form-control mb-4 col-4">
-        <hr>
-
-        <select th:field="*{specializacijaAutoserviso}" class="form-control" id="dropDownList">
-            <option value="0">Pasirinkite autoservisą</option>
-            <option th:each="autoservisai : ${autoservisai}" th:value="${autoservisai.getId()}"th:text="${autoservisai.getPavadinimas()}"></option>
-        </select>
-        <hr>
-
-        <select th:field="*{specializacijaMeistro}" class="form-control" >
-            <option value="0">Pasirinkite meistrą</option>
-            <option th:each="meistrai : ${meistrai}" th:value="${meistrai.getId()}"th:text="${meistrai.getVardas_pavarde()}"></option>
-        </select>
-        <hr>
-
-        <button type="submit" class="btn btn-info col-2">Ideti specializacija</button>
-    </form>
-    <hr>
-
-    <a th:href="@{/}"> Grįžti atgal</a>
-</div>
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/duomenys_specializacijos.html
===================================================================
diff --git a/target/classes/templates/duomenys_specializacijos.html b/target/classes/templates/duomenys_specializacijos.html
deleted file mode 100644
--- a/target/classes/templates/duomenys_specializacijos.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,32 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Specializaciju duomenys</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<table class="table table-striped">
-    <tr>
-        <th>Specializacija</th>
-        <td th:text="${pavadinimas}"></td>
-    </tr>
-
-    <tr>
-        <th>Autoservisai:</th>
-        <td>
-            <ul th:each="autoservisai : ${specializacijaAutoserviso}" class="list-group">
-                <li th:text= "${autoservisai.getPavadinimas}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-
-</table>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/controller/SpecializacijaControler.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/SpecializacijaControler.java b/src/main/java/lt/autoservis/u5/controller/SpecializacijaControler.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/controller/SpecializacijaControler.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,29 +0,0 @@
-package lt.autoservis.u5.controller;
-
-import lt.autoservis.u5.model.entity.Specializacija;
-import lt.autoservis.u5.model.repository.SpecializacijaRepository;
-import org.springframework.beans.factory.annotation.Autowired;
-import org.springframework.web.bind.annotation.*;
-
-@RestController
-public class SpecializacijaControler {
-
-    @Autowired
-    SpecializacijaRepository specializacijaRepository;
-
-    @PostMapping ("/specializacija/ideti")
-    String idetiSpecializacija(@RequestBody Specializacija naujaSpecializacija) {
-//        Specializacija naujaSpecializacija = new Specializacija();
-//        naujaSpecializacija.setPavadinimas(pavadinimas);
-        specializacijaRepository.save(naujaSpecializacija);
-        return "sekmingai ideta";
-    }
-
-
-
-
-
-    @GetMapping ("/gauti/specializacija")
-    String kazkokiaSpec() {return "kazkokiaSpec";}
-
-}
Index: target/classes/templates/visi_autoservisai.html
===================================================================
diff --git a/target/classes/templates/visi_autoservisai.html b/target/classes/templates/visi_autoservisai.html
deleted file mode 100644
--- a/target/classes/templates/visi_autoservisai.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,21 +0,0 @@
-<!DOCTYPE html>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Autoservisai</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-
-</head>
-<body>
-<h1>Autoservisų sąrašas</h1>
-<hr>
-
-<div th:each="autoservisai : ${visiAutoservisai}" class="list-group">
-    <a th:text="${autoservisai.getPavadinimas()}" th:href="@{/duomenys/autoservisai/(id=${autoservisai.getId()})}" class="list-group-item list-group-item-action"></a>
-</div>
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/visi_meistrai.html
===================================================================
diff --git a/target/classes/templates/visi_meistrai.html b/target/classes/templates/visi_meistrai.html
deleted file mode 100644
--- a/target/classes/templates/visi_meistrai.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,19 +0,0 @@
-<!DOCTYPE html>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Autoservisai</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-
-</head>
-<body>
-<th>Autoservisų Meistrai:
-<div th:each="meistrai : ${visiMeistrai}" class="list-group">
-    <a th:text="${meistrai.getVardas_pavarde()}" th:href="@{/duomenys/meistrai/(id=${meistrai.getId()})}" class="list-group-item list-group-item-action"></a>
-</div>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/Component/SetupDataLoader.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/Component/SetupDataLoader.java b/src/main/java/lt/autoservis/u5/Component/SetupDataLoader.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/Component/SetupDataLoader.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,93 +0,0 @@
-package lt.autoservis.u5.Component;
-
-import lt.autoservis.u5.model.entity.Privilegijos;
-import lt.autoservis.u5.model.entity.Role;
-import lt.autoservis.u5.model.entity.Vartotojas;
-import lt.autoservis.u5.model.repository.PrivilegijosRepository;
-import lt.autoservis.u5.model.repository.RoleRepository;
-import lt.autoservis.u5.model.repository.VartotojasRepository;
-import org.springframework.beans.factory.annotation.Autowired;
-import org.springframework.context.ApplicationListener;
-import org.springframework.context.event.ContextRefreshedEvent;
-import org.springframework.stereotype.Component;
-
-import javax.transaction.Transactional;
-import java.util.HashSet;
-import java.util.Set;
-
-@Component
-public class SetupDataLoader implements
-        ApplicationListener<ContextRefreshedEvent>{
-
-
-        boolean alreadySetup = false;
-
-        @Autowired
-        private VartotojasRepository vartotojuRepozitorija;
-
-        @Autowired
-        private RoleRepository roleRepository;
-
-        @Autowired
-        private PrivilegijosRepository privilegijosRepository;
-
-   /*     @Autowired
-        private BCryptPasswordEncoder passwordEncoder;*/
-
-        @Override
-        @Transactional
-        public void onApplicationEvent(ContextRefreshedEvent event) {
-
-        if (alreadySetup)
-             return;
-        Privilegijos readPrivilegijos
-                = createPrivilegeIfNotFound("READ_PRIVILEGE");
-        Privilegijos writePrivilege
-                = createPrivilegeIfNotFound("WRITE_PRIVILEGE");
-
-        Set<Privilegijos> adminoPriviliegijos = new HashSet<>();
-        adminoPriviliegijos.add(readPrivilegijos);
-        adminoPriviliegijos.add(writePrivilege);
-
-        Set<Privilegijos> vartotojoPrivilegijos = new HashSet<>();
-        vartotojoPrivilegijos.add(readPrivilegijos);
-
-        createRoleIfNotFound("ROLE_ADMIN", adminoPriviliegijos);
-        createRoleIfNotFound("ROLE_USER", vartotojoPrivilegijos);
-
-        Role adminRole = roleRepository.findByName("ROLE_ADMIN");
-        Set<Role> hashSet = new HashSet<Role>();
-        hashSet.add (adminRole);
-        Vartotojas vartotojas = new Vartotojas();
-        vartotojas.setUsername("Test");
-        vartotojas.setPassword("test");
-//        vartotojas.setVartotojoRole (hashSet);
-        vartotojas.setEnabled(true);
-        vartotojuRepozitorija.save(vartotojas);
-
-        alreadySetup = true;
-
-    }
-
-     @Transactional
-     Privilegijos createPrivilegeIfNotFound(String name) {
-
-          Privilegijos privilegijos = privilegijosRepository.findByName(name);
-          if (privilegijos == null) {
-               privilegijos = new Privilegijos(name);
-               privilegijosRepository.save(privilegijos);
-          }
-          return privilegijos;
-     }
-    @Transactional
-    Role createRoleIfNotFound (String name, Set<Privilegijos> privilegijos) {
-
-        Role role = roleRepository.findByName(name);
-        if (role == null) {
-            role = new Role(name);
-            role.setPrivilegijuRoles(privilegijos);
-            roleRepository.save(role);
-        }
-        return role;
-    }
-   }
Index: target/classes/templates/redaguotas_autoservisas.html
===================================================================
diff --git a/target/classes/templates/redaguotas_autoservisas.html b/target/classes/templates/redaguotas_autoservisas.html
deleted file mode 100644
--- a/target/classes/templates/redaguotas_autoservisas.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,15 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Autoservisas įdėtas!</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<p>Autoservisas sėkmingai redaguotas </p>
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/hello.html
===================================================================
diff --git a/target/classes/templates/hello.html b/target/classes/templates/hello.html
deleted file mode 100644
--- a/target/classes/templates/hello.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,13 +0,0 @@
-<!DOCTYPE html>
-<html xmlns="http://www.w3.org/1999/xhtml" xmlns:th="https://www.thymeleaf.org"
-      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity3">
-    <head>
-        <title>Hello World!</title>
-    </head>
-    <body>
-        <h1 th:inline="text">Hello [[${#httpServletRequest.remoteUser}]]!</h1>
-        <form th:action="@{/logout}" method="post">
-            <input type="submit" value="Sign Out"/>
-        </form>
-    </body>
-</html>
\ No newline at end of file
Index: target/classes/templates/duomenys_autoservisai.html
===================================================================
diff --git a/target/classes/templates/duomenys_autoservisai.html b/target/classes/templates/duomenys_autoservisai.html
deleted file mode 100644
--- a/target/classes/templates/duomenys_autoservisai.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,91 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Autoservisu duomenys</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<table class="table table-striped">
-    <h3>Autoservisų duomenys</h3>
-    <hr>
-    <hr>
-    <tr>
-        <th>Autoserviso pavadinimas</th>
-        <td th:text="${pavadinimas}"></td>
-    </tr>
-    <tr>
-        <th>Vadovas</th>
-        <td th:text="${vadovas}"></td>
-    </tr>
-
-    <tr>
-        <th>Specializacija</th>
-        <td>
-            <ul th:each="specializacija : ${autoservisoSpecializacija}" class="list-group">
-                <li th:text= "${specializacija.getPavadinimas()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-    <tr>
-        <th>Meistrai</th>
-        <td>
-            <ul th:each="meistrai : ${autoservisoMeistrai}" class="list-group">
-                <li th:text= "${meistrai.getVardas_pavarde()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-    <tr>
-        <th>Telefonas</th>
-        <td>
-            <ul th:each="telefonai : ${autoservisoTelefonas}" class="list-group">
-                <li th:text= "${telefonai.getNumeris()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-    <tr>
-        <th>Miestas</th>
-        <td>
-            <ul th:each="miestai : ${autoservisoMiestas}" class="list-group">
-                <li th:text= "${miestai.getPavadinimas()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-    <tr>
-        <th>Adresas</th>
-        <td>
-            <ul th:each="adresai : ${autoservisoAdresas}" class="list-group">
-                <li th:text= "${adresai.getGatve()} + ' ' + ${adresai.getNamas()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-</table>
-<hr>
-
-<form th:action="@{'/autoservisas/redagavimas/' + ${id}}" method="get">
-    <input type="submit" value="Redaguoti autoservisą">
-</form>
-<hr>
-<form th:action="@{'/istrinti_autoservisa/' + ${id}}" method="post">
-    <input type="submit" value="Ištrinti autoservisą">
-</form>
-
-<!--<form th:action="@{'/vartotojas/pamegti_autoservisa' + ${id}}" method="post">-->
-<!--    <input type="submit" value="Pridėti autoservisą į mėgstamus">-->
-<!--</form>-->
-
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/login.html
===================================================================
diff --git a/target/classes/templates/login.html b/target/classes/templates/login.html
deleted file mode 100644
--- a/target/classes/templates/login.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,17 +0,0 @@
-<!DOCTYPE html>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Login page</title>
-</head>
-<body>
-<h1>Login page</h1>
-<p th:if="${loginError}" class="error">Wrong user or password</p>
-<form th:action="@{/login}" method="post">
-    <label for="username">Username</label>:
-    <input type="text" id="username" name="username" autofocus="autofocus" /> <br />
-    <label for="password">Password</label>:
-    <input type="password" id="password" name="password" /> <br />
-    <input type="submit" value="Log in" />
-</form>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/controller/VartotojuRolesControler.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/VartotojuRolesControler.java b/src/main/java/lt/autoservis/u5/controller/VartotojuRolesControler.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/controller/VartotojuRolesControler.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,18 +0,0 @@
-package lt.autoservis.u5.controller;
-
-import lt.autoservis.u5.model.repository.RoleRepository;
-import org.springframework.beans.factory.annotation.Autowired;
-import org.springframework.web.bind.annotation.GetMapping;
-import org.springframework.web.bind.annotation.RestController;
-
-@RestController
-public class VartotojuRolesControler {
-
-    @Autowired
-    RoleRepository roleRepository;
-
-    @GetMapping("test/vartotojuRoles")
-    String testinisVartotojuRoles() {
-        return "puslapis vartotoju roles veikia";
-    }
-}
Index: src/main/java/lt/autoservis/u5/controller/AutoservisaiController.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/AutoservisaiController.java b/src/main/java/lt/autoservis/u5/controller/AutoservisaiController.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/controller/AutoservisaiController.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,35 +0,0 @@
-package lt.autoservis.u5.controller;
-
-import lt.autoservis.u5.model.entity.Autoservisai;
-import lt.autoservis.u5.model.repository.AutoservisaiRepository;
-import org.springframework.beans.factory.annotation.Autowired;
-import org.springframework.web.bind.annotation.GetMapping;
-import org.springframework.web.bind.annotation.RequestParam;
-import org.springframework.web.bind.annotation.RestController;
-
-
-    @RestController
-    public class AutoservisaiController {
-
-        @Autowired
-        AutoservisaiRepository autoservisasRepository;
-
-        @GetMapping("/test/greeting")
-        String testinisEndpoint() {
-            return "šis puslapis veikia";
-        }
-
-        @GetMapping("/autoservisai/visi")
-        Autoservisai gautiPagalPavadinima (@RequestParam String pavadinimas){
-            Autoservisai autoservisai = autoservisasRepository.findByPavadinimas(pavadinimas);
-            return autoservisai;
-
-        }
-
-//        @GetMapping("/superadmin/vienas")
-//        @GetMapping("/superadmin/kazkoks/kitas")
-//        @GetMapping("/superadmin/meistras/add")
-//        @GetMapping("/superadmin/meistras/delet")
-
-
-}
Index: src/main/java/lt/autoservis/u5/model/repository/RoleRepository.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/repository/RoleRepository.java b/src/main/java/lt/autoservis/u5/model/repository/RoleRepository.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/model/repository/RoleRepository.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,11 +0,0 @@
-package lt.autoservis.u5.model.repository;
-
-import lt.autoservis.u5.model.entity.Role;
-import org.springframework.data.jpa.repository.JpaRepository;
-import org.springframework.stereotype.Repository;
-
-@Repository
-public interface RoleRepository extends JpaRepository<Role,Long> {
-    Role findById(long id);
-    Role findByName(String name);
-}
Index: target/classes/templates/ideti_autoservisa.html
===================================================================
diff --git a/target/classes/templates/ideti_autoservisa.html b/target/classes/templates/ideti_autoservisa.html
deleted file mode 100644
--- a/target/classes/templates/ideti_autoservisa.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,46 +0,0 @@
-<!DOCTYPE html>
-<html lang="en" xmlns:th="http://www.thymeleaf.org">
-<head>
-    <meta charset="UTF-8">
-    <title>Autoserviso įdėjimas</title>
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<div class="container">
-    <h3>Autoserviso įdėjimas</h3>
-    <hr>
-    <h3>Įveskite autoserviso duomenis</h3>
-
-    <form th:action="@{/ideti/idejo_autoservisa}" th:object="${autoservisai}" method="POST">
-        <input th:field="*{pavadinimas}" type="text"  placeholder="Pavadinimas" class="form-control mb-4 col-4">
-        <input th:field="*{vadovas}"type="text"  placeholder="Vadovas" class="form-control mb-4 col-4">
-
-
-        <select th:field="*{autoservisoSpecializacija}" class="form-control" id="dropDownList">
-            <option value="0">Pasirinkite specializaciją</option>
-            <option th:each="specializacija : ${specializacijos}" th:value="${specializacija.getId()}"th:text="${specializacija.getPavadinimas()}"></option>
-        </select>
-        <hr>
-        <select th:field="*{autoservisoMiestas}" class="form-control">
-            <option value="0">Pasirinkite miestą</option>
-            <option th:each="miestai : ${miestas}" th:value="${miestai.getId()}"th:text="${miestai.getPavadinimas()}"></option>
-        </select>
-        <hr>
-<!--            <option value="0">Autoserviso telefonas</option>-->
-<!--            <input th:value="${telefonai}" type="text" name="telefonai">-->
-        <hr>
-
-
-
-        <button type="submit" class="btn btn-info col-2">Išsaugokite autoservisą</button>
-    </form>
-
-    <hr>
-
-    <a th:href="@{/}"> Grįžti atgal</a>
-</div>
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/ideta_specializacija.html
===================================================================
diff --git a/target/classes/templates/ideta_specializacija.html b/target/classes/templates/ideta_specializacija.html
deleted file mode 100644
--- a/target/classes/templates/ideta_specializacija.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,10 +0,0 @@
-<!DOCTYPE html>
-<html lang="en">
-<head>
-    <meta charset="UTF-8">
-    <title>Specializacija ideta</title>
-</head>
-<body>
-<p>Specializacija sėkmingai įdėta </p>
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/autoservisai_specializacijos.html
===================================================================
diff --git a/target/classes/templates/autoservisai_specializacijos.html b/target/classes/templates/autoservisai_specializacijos.html
deleted file mode 100644
--- a/target/classes/templates/autoservisai_specializacijos.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,21 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Autoservisu specializacijos</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<h3 th:text="${specializacijosPavadinimas}"></h3>
-<h5>Autoservisų sąrašas</h5>
-<hr>
-<div th:each="specializacija : ${autoservisoSpecializacija}" class="list-group">
-    <a th:text="${specializacija.getPavadinimas()}" th:href="@{/duomenys/specializacijos/ (id=${specializacija.getId()})}" class="list-group-item list-group-item-action"></a>
-</div>
-</div>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/config/MvcConfig.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/config/MvcConfig.java b/src/main/java/lt/autoservis/u5/config/MvcConfig.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/config/MvcConfig.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,16 +0,0 @@
-package lt.autoservis.u5.config;
-
-import org.springframework.context.annotation.Configuration;
-import org.springframework.web.servlet.config.annotation.ViewControllerRegistry;
-import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
-
-@Configuration
-public class MvcConfig implements WebMvcConfigurer {
-
-    public void addViewControllers(ViewControllerRegistry registry) {
-        registry.addViewController("/home").setViewName("home");
-        registry.addViewController("/").setViewName("home");
-        registry.addViewController("/hello").setViewName("hello");
-        registry.addViewController("/login").setViewName("login");
-    }
-}
\ No newline at end of file
Index: target/classes/templates/duomenys_meistrai.html
===================================================================
diff --git a/target/classes/templates/duomenys_meistrai.html b/target/classes/templates/duomenys_meistrai.html
deleted file mode 100644
--- a/target/classes/templates/duomenys_meistrai.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,59 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Meistru duomenys</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<table class="table table-striped">
-    <tr>
-        <th>Meistras</th>
-        <td th:text="${vardas_pavarde}"></td>
-    </tr>
-
-    <tr>
-        <th>Specializacija</th>
-        <td>
-         <ul th:each="specializacija: ${specializacijaMeistro}"class="list-group">
-            <li th:text= "${specializacija.getPavadinimas}" class="list-group-item"></li>
-
-         </ul>
-        </td>
-
-    </tr>
-
-
-    <tr>
-    <th>Vertinimas</th>
-    <td>
-        <ul th:each="vertinimas : ${meistroVertinimas}" class="list-group">
-            <li th:text= "${vertinimas.getMeistroVertinimas()}" class="list-group-item"></li>
-
-        </ul>
-    </td>
-
-    </tr>
-
-
-    <tr>
-        <th>Meistro autoservisas</th>
-        <td>
-            <ul th:each= "autoservisai : ${meistroAutoservisas}" class="list-group">
-                <li th:text= "${autoservisai.getPavadinimas()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-
-    </tr>
-
-
-
-
-</table>
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/ivertinti_meistra.html
===================================================================
diff --git a/target/classes/templates/ivertinti_meistra.html b/target/classes/templates/ivertinti_meistra.html
deleted file mode 100644
--- a/target/classes/templates/ivertinti_meistra.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,38 +0,0 @@
-<!DOCTYPE html>
-<html lang="en"xmlns:th="http://www.thymeleaf.org">
-<head>
-    <meta charset="UTF-8">
-    <title>Meistro ivertinimas</title>
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<div class="container">
-    <h1>Meistro ivertinimas</h1>
-    <hr>
-    <h2>Save Employee</h2>
-
-    <form action="#" th:action="@{/save}" th:object="${vertinimas}"
-          method="POST">
-        <input type="text" th:field="*{komentaras}" placeholder="Meistro ivertinimas" class="form-control mb-4 col-4">
-        <input type="number" th:field="*{balas}" placeholder="" class="form-control mb-4 col-4">
-        <input type="number" th:field="*{data}" placeholder="" class="form-control mb-4 col-4">
-
-        <button type="submit" class="btn btn-info col-2">Ivertinti meistra</button>    </form>
-
-    <hr>
-
-    <a th:href="@{/}"> Back to Employee List</a>
-</div>
-</body>
-</html>>
-<head>
-    <meta charset="UTF-8">
-    <title>Title</title>
-</head>
-<body>
-
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/autoserviso_redagavimas.html
===================================================================
diff --git a/target/classes/templates/autoserviso_redagavimas.html b/target/classes/templates/autoserviso_redagavimas.html
deleted file mode 100644
--- a/target/classes/templates/autoserviso_redagavimas.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,52 +0,0 @@
-<!DOCTYPE html>
-<html lang="en" xmlns:th="http://www.thymeleaf.org">
-<head>
-    <meta charset="UTF-8">
-    <title>Autoserviso redagavimas</title>
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<div class="container">
-    <h1>Autoserviso redagavimas</h1>
-    <hr>
-    <h1>Redaguokite autoserviso duomenis</h1>
-
-    <form th:action="@{/ideti/idejo_autoservisa}" th:object="${autoservisai}" method="POST">
-        <input type="hidden" th:field="*{id}">
-        <option value="0">Pavadinimas</option>
-        <input th:field="*{pavadinimas}" type="text"  placeholder="Pavadinimas" class="form-control mb-4 col-4">
-        <option value="0">Vadovas</option>
-        <input th:field="*{vadovas}"type="text"  placeholder="Vadovas" class="form-control mb-4 col-4">
-
-
-
-
-        <button type="submit" class="btn btn-info col-6">Išsaugokite redagavimą</button>
-    </form>
-
-    <hr>
-
-    <a th:href="@{/}"> Grįžti atgal</a>
-</div>
-</body>
-</html>
-
-<!--<form th:action="@{/ideti/idejo_autoservisa}" th:object="${autoservisai}" method="POST">-->
-<!--    <input th:field="*{pavadinimas}" type="text"  placeholder="Pavadinimas" class="form-control mb-4 col-4">-->
-<!--    <input th:field="*{vadovas}"type="text"  placeholder="Vadovas" class="form-control mb-4 col-4">-->
-
-<!--    <select th:field="*{autoservisoSpecializacija}" class="form-control" id="dropDownList">-->
-<!--        <option value="0">Pasirinkite specializaciją</option>-->
-<!--        <option th:each="specializacija : ${specializacijos}" th:value="${specializacija.getId()}"th:text="${specializacija.getPavadinimas()}"></option>-->
-<!--    </select>-->
-
-<!--    <select th:field="*{autoservisoMiestas}" class="form-control">-->
-<!--        <option value="0">Pasirinkite miestą</option>-->
-<!--        <option th:each="miestai : ${miestas}" th:value="${miestai.getId()}"th:text="${miestai.getPavadinimas()}"></option>-->
-<!--    </select>-->
-
-<!--    <button type="submit" class="btn btn-info col-2">Išsaugokite autoservisą</button>-->
-<!--</form>-->
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/security/UserDetailsServiceImpl.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/security/UserDetailsServiceImpl.java b/src/main/java/lt/autoservis/u5/security/UserDetailsServiceImpl.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/security/UserDetailsServiceImpl.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,27 +0,0 @@
-package lt.autoservis.u5.security;
-
-import lt.autoservis.u5.model.entity.Vartotojas;
-import lt.autoservis.u5.model.repository.VartotojasRepository;
-import org.springframework.beans.factory.annotation.Autowired;
-import org.springframework.security.core.userdetails.UserDetails;
-import org.springframework.security.core.userdetails.UserDetailsService;
-import org.springframework.security.core.userdetails.UsernameNotFoundException;
-
-public class UserDetailsServiceImpl implements UserDetailsService {
-
-    @Autowired
-    private VartotojasRepository userRepository;
-
-    @Override
-    public UserDetails loadUserByUsername(String username)
-            throws UsernameNotFoundException {
-        Vartotojas user = userRepository.findByUsername(username);
-
-        if (user == null) {
-            throw new UsernameNotFoundException("Could not find user");
-        }
-
-        return new MyUserDetails(user);
-    }
-
-}
\ No newline at end of file
Index: target/classes/templates/specializacijos_autoservisai.html
===================================================================
diff --git a/target/classes/templates/specializacijos_autoservisai.html b/target/classes/templates/specializacijos_autoservisai.html
deleted file mode 100644
--- a/target/classes/templates/specializacijos_autoservisai.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,22 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Autoservisu specializacijos</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<h3 th:text="${specializacijosPavadinimas}"></h3>
-<h5>   Autoservisai:</h5>
-<hr>
-
-<div th:each="autoservisai : ${specializacijaAutoserviso}" class="list-group">
-    <a th:text="${autoservisai.getPavadinimas()}" th:href="@{/duomenys/autoservisai(id=${autoservisai.getId()})}" class="list-group-item list-group-item-action"></a>
-</div>
-</div>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/model/entity/Privilegijos.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/Privilegijos.java b/src/main/java/lt/autoservis/u5/model/entity/Privilegijos.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/model/entity/Privilegijos.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,70 +0,0 @@
-package lt.autoservis.u5.model.entity;
-
-import com.fasterxml.jackson.annotation.JsonIgnore;
-
-import javax.persistence.*;
-import java.util.Set;
-
-@Entity
-public class Privilegijos {
-
-    @Id
-    @GeneratedValue(strategy = GenerationType.IDENTITY)
-    private Long id;
-    private String name;
-
-    @JsonIgnore
-    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY)
-    @JoinTable(
-            name = "role_privilegija",
-            joinColumns = @JoinColumn(name = "privilegija_id"),
-            inverseJoinColumns = @JoinColumn(name = "role_id")
-    )
-    private Set<Role> rolesPrivilegijos;
-
-    public Privilegijos() {
-    }
-
-    public Privilegijos(Long id, String name, Set<Role> rolesPrivilegijos) {
-        this.id = id;
-        this.name = name;
-        this.rolesPrivilegijos = rolesPrivilegijos;
-    }
-
-    public Privilegijos(String name) {
-
-    }
-
-    public Long getId() {
-        return id;
-    }
-
-    public void setId(Long id) {
-        this.id = id;
-    }
-
-    public String getName() {
-        return name;
-    }
-
-    public void setName(String name) {
-        this.name = name;
-    }
-
-    public Set<Role> getRolesPrivilegijos() {
-        return rolesPrivilegijos;
-    }
-
-    public void setRolesPrivilegijos(Set<Role> rolesPrivilegijos) {
-        this.rolesPrivilegijos = rolesPrivilegijos;
-    }
-
-    @Override
-    public String toString() {
-        return "Privilegijos{" +
-                "id=" + id +
-                ", name='" + name + '\'' +
-                ", rolesPrivilegijos=" + rolesPrivilegijos +
-                '}';
-    }
-}
Index: target/classes/templates/testinis.html
===================================================================
diff --git a/target/classes/templates/testinis.html b/target/classes/templates/testinis.html
deleted file mode 100644
--- a/target/classes/templates/testinis.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,15 +0,0 @@
-<!DOCTYPE html>
-<html lang="en"xmlns:th="http://www.thymeleaf.org" >
-<head>
-    <title>Employee Management System</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<p th:text="'Sveiki, ' + ${vardas} + ', atvykę į mūsų puslapį.'"></p>
-</body>
-</html>
\ No newline at end of file
Index: target/classes/templates/testas_autoservisai.html
===================================================================
diff --git a/target/classes/templates/testas_autoservisai.html b/target/classes/templates/testas_autoservisai.html
deleted file mode 100644
--- a/target/classes/templates/testas_autoservisai.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,54 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Autoservisai</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-</head>
-<body>
-<table class="table table-striped">
-    <tr>
-        <th>Autoservisas</th>
-        <td th:text="${pavadinimas}"></td>
-    </tr>
-    <tr>
-        <th>Vadovas</th>
-        <td th:text="${vadovas}"></td>
-    </tr>
-    <tr>
-        <th>Specializacija:</th>
-        <td>
-            <ul th:each="specializacija : ${autoservisoSpecializacija}" class="list-group">
-                <li th:text= "${specializacija.getPavadinimas}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-    <tr>
-        <th>Meistrai:</th>
-        <td>
-            <ul th:each="meistrai : ${autoservisoMeistrai}" class="list-group">
-                <li th:text= "${meistrai.getVardas_pavarde()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-    <tr>
-        <th>Adresas:</th>
-        <td>
-            <ul th:each="adresai : ${autoservisoAdresas}" class="list-group">
-                <li th:text= "${adresai.getGatve()} + ' ' + ${adresai.getNamas()}" class="list-group-item"></li>
-
-            </ul>
-        </td>
-    </tr>
-
-</table>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/model/repository/PrivilegijosRepository.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/repository/PrivilegijosRepository.java b/src/main/java/lt/autoservis/u5/model/repository/PrivilegijosRepository.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/model/repository/PrivilegijosRepository.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,11 +0,0 @@
-package lt.autoservis.u5.model.repository;
-
-import lt.autoservis.u5.model.entity.Privilegijos;
-import org.springframework.data.jpa.repository.JpaRepository;
-import org.springframework.stereotype.Repository;
-
-@Repository
-public interface PrivilegijosRepository extends JpaRepository<Privilegijos, Long> {
-    Privilegijos findById(long id);
-    Privilegijos findByName(String name);
-}
Index: src/main/java/lt/autoservis/u5/model/entity/Role.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/Role.java b/src/main/java/lt/autoservis/u5/model/entity/Role.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/model/entity/Role.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,73 +0,0 @@
-package lt.autoservis.u5.model.entity;
-
-import com.fasterxml.jackson.annotation.JsonIgnore;
-
-import javax.persistence.*;
-import java.util.HashSet;
-import java.util.Set;
-
-@Entity
-public class Role {
-    @Id
-    @GeneratedValue(strategy = GenerationType.IDENTITY)
-    private Integer id;
-    private String name;
-
-    @JsonIgnore
-    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)
-    @JoinTable(
-            name = "role_privilegija",
-            joinColumns = @JoinColumn(name = "role_id"),
-            inverseJoinColumns = @JoinColumn(name = "privilegija_id")
-    )
-    private Set<Privilegijos> privilegijuRoles = new HashSet<>();
-
-    public Role() {
-    }
-
-    public Role(Integer id, String name, Set<Privilegijos> privilegijuRoles) {
-        this.id = id;
-        this.name = name;
-        this.privilegijuRoles = privilegijuRoles;
-
-
-    }
-
-    public Role(String name) {
-
-    }
-
-    public Integer getId() {
-        return id;
-    }
-
-    public void setId(Integer id) {
-        this.id = id;
-    }
-
-    public String getName() {
-        return name;
-    }
-
-    public void setName(String name) {
-        this.name = name;
-    }
-
-    public Set<Privilegijos> getPrivilegijuRoles() {
-        return privilegijuRoles;
-    }
-
-    public void setPrivilegijuRoles(Set<Privilegijos> privilegijuRoles) {
-        this.privilegijuRoles = privilegijuRoles;
-    }
-
-    @Override
-    public String toString() {
-        return "Role{" +
-                "id=" + id +
-                ", name='" + name + '\'' +
-                ", privilegijuRoles=" + privilegijuRoles +
-                '}';
-    }
-}
-
Index: target/classes/templates/visos_specializacijos.html
===================================================================
diff --git a/target/classes/templates/visos_specializacijos.html b/target/classes/templates/visos_specializacijos.html
deleted file mode 100644
--- a/target/classes/templates/visos_specializacijos.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,20 +0,0 @@
-<!DOCTYPE html>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-    <title>Visos specializacijos</title>
-    <meta charset="UTF-8">
-    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-    <link rel="stylesheet"
-          href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-          integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-          crossorigin="anonymous">
-
-</head>
-<body>
-<h3>Specializacijų sąrašas:</h3>
-<hr>
-<div th:each="specializacija : ${visosSpecializacijos}" class="list-group">
-    <a th:text="${specializacija.getPavadinimas()}" th:href="@{/specializacija/rodyti_autoservisus/(id=${specializacija.getId()})}" class="list-group-item list-group-item-action"></a>
-</div>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/security/WebSecurityConfig.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/security/WebSecurityConfig.java b/src/main/java/lt/autoservis/u5/security/WebSecurityConfig.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/security/WebSecurityConfig.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,44 +0,0 @@
-package lt.autoservis.u5.security;
-
-import org.springframework.context.annotation.Bean;
-import org.springframework.context.annotation.Configuration;
-import org.springframework.security.config.annotation.web.builders.HttpSecurity;
-import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
-import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
-import org.springframework.security.core.userdetails.User;
-import org.springframework.security.core.userdetails.UserDetails;
-import org.springframework.security.core.userdetails.UserDetailsService;
-import org.springframework.security.provisioning.InMemoryUserDetailsManager;
-
-@Configuration
-@EnableWebSecurity
-public class WebSecurityConfig extends WebSecurityConfigurerAdapter {
-
-    @Override
-    protected void configure(HttpSecurity http) throws Exception {
-        http
-                .authorizeRequests()
-                .antMatchers("/", "/home").permitAll()
-                .anyRequest().authenticated()
-                .and()
-                .formLogin()
-                .loginPage("/login")
-                .permitAll()
-                .and()
-                .logout()
-                .permitAll();
-
-    }
-
-    @Bean
-    public UserDetailsService userDetailsService() {
-        UserDetails user =
-                User.withDefaultPasswordEncoder()
-                        .username("grmt")
-                        .password("grmt123")
-                        .roles("ADMIN")
-                        .build();
-
-        return new InMemoryUserDetailsManager(user);
-    }
-}
\ No newline at end of file
Index: target/classes/templates/idetas_autoservisas.html
===================================================================
diff --git a/target/classes/templates/idetas_autoservisas.html b/target/classes/templates/idetas_autoservisas.html
deleted file mode 100644
--- a/target/classes/templates/idetas_autoservisas.html	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,15 +0,0 @@
-<!DOCTYPE HTML>
-<html xmlns:th="http://www.thymeleaf.org">
-<head>
-  <title>Autoservisas įdėtas!</title>
-  <meta charset="UTF-8">
-  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
-  <link rel="stylesheet"
-        href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
-        integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO"
-        crossorigin="anonymous">
-</head>
-<body>
-<p>Autoservisas sėkmingai įdėtas </p>
-</body>
-</html>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/security/MyUserDetails.java
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/security/MyUserDetails.java b/src/main/java/lt/autoservis/u5/security/MyUserDetails.java
deleted file mode 100644
--- a/src/main/java/lt/autoservis/u5/security/MyUserDetails.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ /dev/null	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
@@ -1,64 +0,0 @@
-package lt.autoservis.u5.security;
-
-import lt.autoservis.u5.model.entity.Role;
-import lt.autoservis.u5.model.entity.Vartotojas;
-import org.springframework.security.core.GrantedAuthority;
-import org.springframework.security.core.authority.SimpleGrantedAuthority;
-import org.springframework.security.core.userdetails.UserDetails;
-
-import java.util.ArrayList;
-import java.util.Collection;
-import java.util.List;
-import java.util.Set;
-
-public class MyUserDetails implements UserDetails {
-
-    private Vartotojas user;
-
-    public MyUserDetails(Vartotojas user) {
-        this.user = user;
-    }
-
-    @Override
-    public Collection<? extends GrantedAuthority> getAuthorities() {
-        Set<Role> roles = user.getRolesVartotoju();
-        List<SimpleGrantedAuthority> authorities = new ArrayList<>();
-
-        for (Role role : roles) {
-            authorities.add(new SimpleGrantedAuthority(role.getName()));
-        }
-
-        return authorities;
-    }
-
-    @Override
-    public String getPassword() {
-        return user.getPassword();
-    }
-
-    @Override
-    public String getUsername() {
-        return user.getUsername();
-    }
-
-    @Override
-    public boolean isAccountNonExpired() {
-        return true;
-    }
-
-    @Override
-    public boolean isAccountNonLocked() {
-        return true;
-    }
-
-    @Override
-    public boolean isCredentialsNonExpired() {
-        return true;
-    }
-
-    @Override
-    public boolean isEnabled() {
-        return user.isEnabled();
-    }
-
-}
\ No newline at end of file
Index: src/main/resources/templates/my-products.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/my-products.ftlh b/src/main/resources/templates/my-products.ftlh
new file mode 100644
--- /dev/null	(date 1659962184485)
+++ b/src/main/resources/templates/my-products.ftlh	(date 1659962184485)
@@ -0,0 +1,91 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+    <h1 style="text-align: center">Мои товары</h1>
+    <hr>
+    <a class="btn btn-dark mt-3 mb-3" style="text-align: center; width: 100%"
+       data-toggle="collapse" href="#collapseExample" role="button"
+       aria-expanded="true" aria-controls="collapseExample">
+        Добавить новый товар
+    </a>
+    <div class="collapse mb-3" id="collapseExample" style="">
+        <form action="/product/create" method="post" enctype="multipart/form-data">
+            <div class="form-group">
+                <label for="productName">Название товара</label>
+                <input type="text" required class="form-control"
+                       id="productName" name="title">
+            </div>
+            <div class="form-group">
+                <label for="price">Цена товара</label>
+                <div class="input-group mb-3">
+                    <input type="number" required class="form-control" id="price" name="price">
+                    <div class="input-group-append">
+                        <span class="input-group-text">₽</span>
+                    </div>
+                </div>
+            </div>
+            <div class="form-group">
+                <label for="searchCity">Город</label>
+                <select id="searchCity" required name="city" class="form-control">
+                    <option value="">Город не выбран</option>
+
+                    <option value="Москва">Москва</option>
+                    <option value="Красноярск">Красноярск</option>
+                    <option value="Казань">Казань</option>
+
+                </select>
+            </div>
+            <div class="form-group">
+                <label for="description">Описание товара</label>
+                <textarea required class="form-control" id="description" name="description"></textarea>
+            </div>
+            <div class="form-group">
+                <div class="custom-file">
+                    <input required type="file" name="file1" id="file1">
+                    <label class="custom-file-label" for="file1">Первая фотография к товару</label>
+                </div>
+            </div>
+            <div class="form-group">
+                <div class="custom-file">
+                    <input type="file" name="file2" id="file2">
+                    <label class="custom-file-label" for="file2">Вторая фотография к товару</label>
+                </div>
+            </div>
+            <div class="form-group">
+                <div class="custom-file">
+                    <input type="file" name="file3" id="file3">
+                    <label class="custom-file-label" for="file3">Третья фотография к товару</label>
+                </div>
+            </div>
+            <input type="hidden" name="_csrf" value="${_csrf.token}"/>
+
+            <button type="submit" style="width: 100%" class="btn btn-dark">Добавить</button>
+        </form>
+    </div>
+    <div class="card-columns">
+        <#list products as product>
+            <a href="/product/${product.id}" class="product-link">
+                <div class="card text-white bg-dark my-3 product">
+                    <div class="card-top">
+                        <form action="/product/delete/${product.id}" method="post">
+                            <input type="hidden" name="_csrf" value="${_csrf.token}"/>
+                            <button type="submit" class="btn btn-danger m-3">
+                                Удалить
+                            </button>
+                        </form>
+                    </div>
+                    <img src="/images/${product.previewImageId}"
+                         class="card-img-top">
+                    <div class="card-body">
+                        <h5 class="card-title">${product.title}</h5>
+                        <p class="card-text">${product.price} ₽</p>
+                    </div>
+                    <div class="card-footer">
+                        ${product.city}
+                    </div>
+                </div>
+            </a>
+        <#else>
+            <h1 style="text-align: center">Не найдено</h1>
+        </#list>
+    </div>
+</@t.template>
\ No newline at end of file
Index: src/main/resources/templates/login.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/login.ftlh b/src/main/resources/templates/login.ftlh
new file mode 100644
--- /dev/null	(date 1659962184485)
+++ b/src/main/resources/templates/login.ftlh	(date 1659962184485)
@@ -0,0 +1,25 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+    <h1 style="text-align: center">Авторизация</h1>
+    <hr>
+    <form action="/login " method="post">
+        <div class="form-group">
+            <label for="email">Электронная почта</label>
+            <input type="email" class="form-control <#if RequestParameters.error??>is-invalid</#if>" id="email" name="username">
+            <div id="email" class="invalid-feedback">
+                Неверныя электронная почта
+            </div>
+        </div>
+        <div class="form-group">
+            <label for="password">Пароль</label>
+            <input type="password" class="form-control <#if RequestParameters.error??>is-invalid</#if>" id="password" name="password">
+            <div id="password" class="invalid-feedback">
+                Неверный пароль
+            </div>
+        </div>
+        <input type="hidden" name="_csrf" value="${_csrf.token}">
+        <button type="submit" style="width: 100%" class="btn btn-dark">Войти</button>
+    </form>
+    <hr>
+    <h2>Нет аккаунта BUYSELL? <a href="/registration">Зарегистрируйся!</a></h2>
+</@t.template>
\ No newline at end of file
Index: src/main/resources/templates/products.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/products.ftlh b/src/main/resources/templates/products.ftlh
new file mode 100644
--- /dev/null	(date 1659962184501)
+++ b/src/main/resources/templates/products.ftlh	(date 1659962184501)
@@ -0,0 +1,44 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+    <h1 style="text-align: center">Поиск товаров</h1><hr>
+    <form method="get" action="/">
+        <div class="form-row">
+            <div class="form-group col-md-2">
+                <label for="searchCity">Город</label>
+                <select id="searchCity" class="form-control">
+                    <option value="">Город не выбран</option>
+                    <option value="Москва">Москва</option>
+                    <option value="Красноярск">Красноярск</option>
+                    <option value="Казань">Казань</option>
+                </select>
+            </div>
+            <div class="form-group col-md-10">
+                <label for="searchWord">Поиск по объявлениям</label>
+                <input type="text" name="searchWord" <#if searchWord??>value="${searchWord}"</#if> class="form-control"
+                       id="searchWord">
+            </div>
+            <button style="width: 100%" type="submit" class="btn btn-dark">Поиск</button>
+        </div>
+    </form>
+    <hr>
+    <div class="card-columns">
+        <#list products as product>
+            <a href="/product/${product.id}" class="product-link">
+                <div class="card text-white bg-dark my-3 product">
+
+                    <img src="/images/${product.previewImageId}"
+                         class="card-img-top">
+                    <div class="card-body">
+                        <h5 class="card-title">${product.title}</h5>
+                        <p class="card-text">${product.price} ₽</p>
+                    </div>
+                    <div class="card-footer">
+                        ${product.city}
+                    </div>
+                </div>
+            </a>
+        <#else>
+            <h1 style="text-align: center">Не найдено</h1>
+        </#list>
+    </div>
+</@t.template>
\ No newline at end of file
Index: src/main/resources/templates/product-info.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/product-info.ftlh b/src/main/resources/templates/product-info.ftlh
new file mode 100644
--- /dev/null	(date 1659962184501)
+++ b/src/main/resources/templates/product-info.ftlh	(date 1659962184501)
@@ -0,0 +1,51 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+    <div id="myCarousel" class="carousel slide" data-ride="carousel">
+        <ol class="carousel-indicators">
+            <#list images as image>
+                <li data-target="#myCarousel" data-slide-to="0" class=""></li>
+            </#list>
+        </ol>
+        <div class="carousel-inner">
+            <#list images as image>
+                <div class="carousel-item <#if image.previewImage>active</#if>">
+                    <svg class="bd-placeholder-img" width="100%" height="100%" xmlns="http://www.w3.org/2000/svg"
+                         role="img" aria-label=" :  " preserveAspectRatio="xMidYMid slice" focusable="false">
+                        <title></title>
+                        <rect width="100%" height="100%" fill="#777"></rect>
+                        <text x="50%" y="50%" fill="#777" dy=".3em"></text>
+                    </svg>
+
+                    <div class="container">
+                        <div class="carousel-caption">
+                            <a href="/images/${image.id}">
+                                <img class="product" style="height: 100px" src="/images/${image.id}">
+                            </a>
+                        </div>
+                    </div>
+                </div>
+            </#list>
+
+        </div>
+        <a class="carousel-control-prev" href="#myCarousel" role="button" data-slide="prev">
+            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
+            <span class="sr-only">Previous</span>
+        </a>
+        <a class="carousel-control-next" href="#myCarousel" role="button" data-slide="next">
+            <span class="carousel-control-next-icon" aria-hidden="true"></span>
+            <span class="sr-only">Next</span>
+        </a>
+    </div>
+    <hr>
+    <p><h1 style="text-align: center">${product.title} | ${product.price} ₽</h1></p>
+    <p style="text-align: center">${product.description}</p>
+    <p style="text-align: center">Номер телефона продавца: <b>${authorProduct.phoneNumber}</b></p>
+
+    <hr>
+    <p style="text-align: center">
+        <a href="/user/${authorProduct.id}">
+            <img src="/static/images/avatar.png" alt="mdo" width="32" height="32" class="rounded-circle"> ${authorProduct.name}
+        </a>
+    </p>
+
+</@t.template>
\ No newline at end of file
Index: src/main/resources/templates/registration.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/registration.ftlh b/src/main/resources/templates/registration.ftlh
new file mode 100644
--- /dev/null	(date 1659962184516)
+++ b/src/main/resources/templates/registration.ftlh	(date 1659962184516)
@@ -0,0 +1,28 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+    <h1 style="text-align: center">Регистрация</h1>
+    <hr>
+    <form action="/registration" method="post">
+        <div class="form-group">
+            <label for="name">Имя пользователя</label>
+            <input type="text" class="form-control" required id="name" name="name">
+        </div>
+        <div class="form-group">
+            <label for="email">Электронная почта</label>
+            <input type="email" class="form-control" id="email" required name="email">
+        </div>
+        <div class="form-group">
+            <label for="phoneNumber">Номер телефона</label>
+            <input type="text" class="form-control" id="phoneNumber" required name="phoneNumber">
+        </div>
+        <div class="form-group">
+            <label for="password">Пароль</label>
+            <input type="password" class="form-control" id="password" required name="password">
+        </div>
+        <input type="hidden" name="_csrf" value="${_csrf.token}">
+        <button type="submit" style="width: 100%" class="btn btn-dark">Зарегистрироваться</button>
+    </form>
+    <#if errorMessage??>
+        <h2 style="color: red">${errorMessage}</h2>
+    </#if>
+</@t.template>
\ No newline at end of file
Index: src/main/resources/templates/profile.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/profile.ftlh b/src/main/resources/templates/profile.ftlh
new file mode 100644
--- /dev/null	(date 1659962184501)
+++ b/src/main/resources/templates/profile.ftlh	(date 1659962184501)
@@ -0,0 +1,35 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+    <h1 style="text-align: center">Личный кабинет</h1>
+    <hr>
+    <br>
+    <div style="text-align: center">
+        <img src="/static/images/avatar.png"
+             style="border:2px solid black; border-radius: 20px" height="120">
+        <br>
+        <br>
+        <h2>${user.name}</h2>
+        <br>
+        Электоронная почта: <b>${user.email}</b>
+        <br>
+        Номер телефона: <b>${user.phoneNumber}</b>
+        <br>
+        <br>
+        <#if user.isAdmin()>
+            <a class="btn btn-dark mb-3" style="text-align: center; width: 100%"
+               href="/admin">
+                Панель администратора
+            </a><br>
+        </#if>
+        <a class="btn btn-dark mb-3" style="text-align: center; width: 100%"
+           href="/my/products">
+            Мои товары
+        </a>
+        <form action="/logout" method="post">
+            <input type="hidden" name="_csrf" value="${_csrf.token}"/>
+            <button type="submit" style="text-align: center; width: 100%" class="btn btn-danger mb-2">
+                Выйти из аккаунта
+            </button>
+        </form>
+    </div>
+</@t.template>
\ No newline at end of file
Index: src/main/resources/templates/user-info.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/user-info.ftlh b/src/main/resources/templates/user-info.ftlh
new file mode 100644
--- /dev/null	(date 1659962184516)
+++ b/src/main/resources/templates/user-info.ftlh	(date 1659962184516)
@@ -0,0 +1,38 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template userByPrincipal>
+    <h1 style="text-align: center">Информация о пользователе</h1>
+    <hr>
+    <div style="text-align: center">
+            <img src="/static/images/avatar.png"
+                 style="border:2px solid black; border-radius: 20px" height="120">
+        <br>
+        <br>
+        <h2>${user.name}</h2>
+        <br>
+        Номер телефона: <b>${user.phoneNumber}</b>
+    </div>
+    <br>
+    <hr>
+    <h1 style="text-align: center">Товары пользователя ${user.name}</h1>
+    <br>
+    <div class="card-columns">
+        <#list products as product>
+            <a href="/product/${product.id}" class="product-link">
+                <div class="card text-white bg-dark my-3 product">
+
+                    <img src="/images/${product.previewImageId}"
+                         class="card-img-top">
+                    <div class="card-body">
+                        <h5 class="card-title">${product.title}</h5>
+                        <p class="card-text">${product.price} ₽</p>
+                    </div>
+                    <div class="card-footer">
+                        ${product.user.name}
+                    </div>
+                </div>
+            </a>
+        <#else>
+            <h1 style="text-align: center">Не найдено</h1>
+        </#list>
+    </div>
+</@t.template>
\ No newline at end of file
Index: src/main/resources/templates/user-edit.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/user-edit.ftlh b/src/main/resources/templates/user-edit.ftlh
new file mode 100644
--- /dev/null	(date 1659962184516)
+++ b/src/main/resources/templates/user-edit.ftlh	(date 1659962184516)
@@ -0,0 +1,15 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+<h1 style="text-align: center">Редактирование пользователя ${user.name}</h1><hr>
+<form action="/admin/user/edit" method="post">
+    <#list roles as role>
+        <div>
+            <label><input type="checkbox" name="${role}" ${user.roles?seq_contains(role)?string("checked", "")}>${role}</label>
+        </div>
+    </#list>
+    <input type="hidden" value="${user.id}" name="userId">
+    <input type="hidden" value="${_csrf.token}" name="_csrf">
+    <button type="submit" class="btn btn-dark">Сохранить</button>
+</form>
+
+</@t.template>
\ No newline at end of file
Index: src/main/java/lt/autoservis/u5/model/enums/Role.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/enums/Role.java b/src/main/java/lt/autoservis/u5/model/enums/Role.java
new file mode 100644
--- /dev/null	(date 1659962184423)
+++ b/src/main/java/lt/autoservis/u5/model/enums/Role.java	(date 1659962184423)
@@ -0,0 +1,12 @@
+package lt.autoservis.u5.model.enums;
+
+import org.springframework.security.core.GrantedAuthority;
+
+public enum Role implements GrantedAuthority {
+    ROLE_USER, ROLE_ADMIN;
+
+    @Override
+    public String getAuthority() {
+        return name();
+    }
+}
Index: .idea/compiler.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"CompilerConfiguration\">\r\n    <annotationProcessing>\r\n      <profile name=\"Maven default annotation processors profile\" enabled=\"true\">\r\n        <sourceOutputDir name=\"target/generated-sources/annotations\" />\r\n        <sourceTestOutputDir name=\"target/generated-test-sources/test-annotations\" />\r\n        <outputRelativeToContentRoot value=\"true\" />\r\n        <module name=\"u5\" />\r\n        <module name=\"uzduotis_5_autoservisai\" />\r\n        <module name=\"uzd_5_autoservisai-2\" />\r\n      </profile>\r\n    </annotationProcessing>\r\n  </component>\r\n  <component name=\"JavacSettings\">\r\n    <option name=\"ADDITIONAL_OPTIONS_OVERRIDE\">\r\n      <module name=\"u5\" options=\"-parameters\" />\r\n      <module name=\"uzd_5_autoservisai-2\" options=\"-parameters\" />\r\n      <module name=\"uzduotis_5_autoservisai\" options=\"-parameters\" />\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/compiler.xml b/.idea/compiler.xml
--- a/.idea/compiler.xml	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/.idea/compiler.xml	(date 1659962184469)
@@ -2,6 +2,7 @@
 <project version="4">
   <component name="CompilerConfiguration">
     <annotationProcessing>
+      <profile default="true" name="Default" enabled="true" />
       <profile name="Maven default annotation processors profile" enabled="true">
         <sourceOutputDir name="target/generated-sources/annotations" />
         <sourceTestOutputDir name="target/generated-test-sources/test-annotations" />
Index: src/main/java/lt/autoservis/u5/model/entity/Product.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/Product.java b/src/main/java/lt/autoservis/u5/model/entity/Product.java
new file mode 100644
--- /dev/null	(date 1659962184438)
+++ b/src/main/java/lt/autoservis/u5/model/entity/Product.java	(date 1659962184438)
@@ -0,0 +1,38 @@
+package lt.autoservis.u5.model.entity;
+
+import lombok.Data;
+
+import javax.persistence.*;
+import java.time.LocalDateTime;
+import java.util.ArrayList;
+import java.util.List;
+
+@Entity
+@Table(name = "products")
+@Data
+public class Product {
+    @Id
+    @GeneratedValue(strategy = GenerationType.IDENTITY)
+    private Long id;
+    private String title;
+    private String description;
+    private Integer price;
+    private String city;
+    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.LAZY,
+    mappedBy = "product")
+    private List<Image> images = new ArrayList<>();
+    @ManyToOne(cascade = CascadeType.REFRESH, fetch = FetchType.LAZY)
+    @JoinColumn
+    private User user;
+    private Long previewImageId;
+    private LocalDateTime dateOfCreated;
+
+    @PrePersist
+    private void onCreate() { dateOfCreated = LocalDateTime.now(); }
+
+
+    public void addImageToProduct(Image image) {
+        image.setProduct(this);
+        images.add(image);
+    }
+}
Index: src/main/java/lt/autoservis/u5/model/entity/Image.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/Image.java b/src/main/java/lt/autoservis/u5/model/entity/Image.java
new file mode 100644
--- /dev/null	(date 1659962184438)
+++ b/src/main/java/lt/autoservis/u5/model/entity/Image.java	(date 1659962184438)
@@ -0,0 +1,84 @@
+package lt.autoservis.u5.model.entity;
+
+import javax.persistence.*;
+
+@Entity
+@Table(name = "images")
+public class Image {
+    @Id
+    @GeneratedValue(strategy = GenerationType.IDENTITY)
+    private Long id;
+    private String name;
+    private String originalFileName;
+    private Long size;
+    private String contentType;
+    private boolean previewImage;
+    @Lob
+    private byte[] bytes;
+    @ManyToOne(cascade = CascadeType.REFRESH, fetch = FetchType.EAGER)
+    private Product product;
+
+    public Long getId() {
+        return id;
+    }
+
+    public void setId(Long id) {
+        this.id = id;
+    }
+
+    public String getName() {
+        return name;
+    }
+
+    public void setName(String name) {
+        this.name = name;
+    }
+
+    public String getOriginalFileName() {
+        return originalFileName;
+    }
+
+    public void setOriginalFileName(String originalFileName) {
+        this.originalFileName = originalFileName;
+    }
+
+    public Long getSize() {
+        return size;
+    }
+
+    public void setSize(Long size) {
+        this.size = size;
+    }
+
+    public String getContentType() {
+        return contentType;
+    }
+
+    public void setContentType(String contentType) {
+        this.contentType = contentType;
+    }
+
+    public boolean isPreviewImage() {
+        return previewImage;
+    }
+
+    public void setPreviewImage(boolean previewImage) {
+        this.previewImage = previewImage;
+    }
+
+    public byte[] getBytes() {
+        return bytes;
+    }
+
+    public void setBytes(byte[] bytes) {
+        this.bytes = bytes;
+    }
+
+    public Product getProduct() {
+        return product;
+    }
+
+    public void setProduct(Product product) {
+        this.product = product;
+    }
+}
Index: src/main/java/lt/autoservis/u5/model/repository/ImageRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/repository/ImageRepository.java b/src/main/java/lt/autoservis/u5/model/repository/ImageRepository.java
new file mode 100644
--- /dev/null	(date 1659962184454)
+++ b/src/main/java/lt/autoservis/u5/model/repository/ImageRepository.java	(date 1659962184454)
@@ -0,0 +1,7 @@
+package lt.autoservis.u5.model.repository;
+
+import lt.autoservis.u5.model.entity.Image;
+import org.springframework.data.jpa.repository.JpaRepository;
+
+public interface ImageRepository extends JpaRepository<Image, Long> {
+}
Index: src/main/java/lt/autoservis/u5/model/entity/User.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/User.java b/src/main/java/lt/autoservis/u5/model/entity/User.java
new file mode 100644
--- /dev/null	(date 1659962184438)
+++ b/src/main/java/lt/autoservis/u5/model/entity/User.java	(date 1659962184438)
@@ -0,0 +1,161 @@
+package lt.autoservis.u5.model.entity;
+
+import lt.autoservis.u5.model.enums.Role;
+import org.springframework.security.core.GrantedAuthority;
+import org.springframework.security.core.userdetails.UserDetails;
+
+import javax.persistence.*;
+import java.util.*;
+
+@Entity
+@Table(name = "users")
+public class User implements UserDetails {
+    @Id
+    @GeneratedValue(strategy = GenerationType.IDENTITY)
+    private Long id;
+    @Column(unique = true, updatable = false)
+    private String email;
+    private String phoneNumber;
+    private String name;
+
+    @OneToOne(cascade = CascadeType.ALL, fetch = FetchType.EAGER)
+    @JoinColumn
+    private Image avatar;
+    private boolean active;
+    private String activationCode;
+    @Column(length = 1000)
+    private String password;
+
+    @ElementCollection(targetClass = Role.class, fetch = FetchType.EAGER)
+    @CollectionTable(name = "user_role",
+    joinColumns = @JoinColumn(name = "user_id"))
+    @Enumerated(EnumType.STRING)
+    private Set<Role> roles = new HashSet<>();
+
+    @OneToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER,
+    mappedBy = "user")
+    private List<Product> products = new ArrayList<>();
+
+    public void addProductToUser(Product product) {
+        product.setUser(this);
+        products.add(product);
+    }
+
+    public boolean isAdmin() {
+        return roles.contains(Role.ROLE_ADMIN);
+    }
+
+    public Image getAvatar() {
+        return avatar;
+    }
+
+    public void setAvatar(Image avatar) {
+        this.avatar = avatar;
+    }
+
+    public List<Product> getProducts() {
+        return products;
+    }
+
+    public void setProducts(List<Product> products) {
+        this.products = products;
+    }
+
+    public Long getId() {
+        return id;
+    }
+
+    public void setId(Long id) {
+        this.id = id;
+    }
+
+    public String getEmail() {
+        return email;
+    }
+
+    public void setEmail(String email) {
+        this.email = email;
+    }
+
+    public String getPhoneNumber() {
+        return phoneNumber;
+    }
+
+    public void setPhoneNumber(String phoneNumber) {
+        this.phoneNumber = phoneNumber;
+    }
+
+    public String getName() {
+        return name;
+    }
+
+    public void setName(String name) {
+        this.name = name;
+    }
+
+    public boolean isActive() {
+        return active;
+    }
+
+    public void setActive(boolean active) {
+        this.active = active;
+    }
+
+    public String getActivationCode() {
+        return activationCode;
+    }
+
+    public void setActivationCode(String activationCode) {
+        this.activationCode = activationCode;
+    }
+
+    public void setPassword(String password) {
+        this.password = password;
+    }
+
+    public Set<Role> getRoles() {
+        return roles;
+    }
+
+    public void setRoles(Set<Role> roles) {
+        this.roles = roles;
+    }
+
+
+    // security config
+
+    @Override
+    public Collection<? extends GrantedAuthority> getAuthorities() {
+        return roles;
+    }
+
+    @Override
+    public String getPassword() {
+        return password;
+    }
+
+    @Override
+    public String getUsername() {
+        return email;
+    }
+
+    @Override
+    public boolean isAccountNonExpired() {
+        return true;
+    }
+
+    @Override
+    public boolean isAccountNonLocked() {
+        return true;
+    }
+
+    @Override
+    public boolean isCredentialsNonExpired() {
+        return true;
+    }
+
+    @Override
+    public boolean isEnabled() {
+        return active;
+    }
+}
Index: src/main/resources/templates/blocks/template.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/blocks/template.ftlh b/src/main/resources/templates/blocks/template.ftlh
new file mode 100644
--- /dev/null	(date 1659962184469)
+++ b/src/main/resources/templates/blocks/template.ftlh	(date 1659962184469)
@@ -0,0 +1,53 @@
+<#macro template user>
+    <!doctype html>
+    <html lang="ru">
+    <head>
+        <!-- Required meta tags -->
+        <meta charset="utf-8">
+        <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
+        <link rel="stylesheet" href="/static/css/style.css">
+
+        <!-- Bootstrap CSS -->
+        <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.6.1/dist/css/bootstrap.min.css"
+              integrity="sha384-zCbKRCUGaJDkqS1kPbPd7TveP5iyJE0EjAuZQTgFLD2ylzuqKfdKlfG/eSrtxUkn"
+              crossorigin="anonymous">
+
+        <title>BUYSELL</title>
+    </head>
+    <body>
+    <nav class="navbar navbar-dark bg-dark">
+        <div class="container-fluid">
+            <a href="/">
+                <span class="navbar-brand mb-0 h1">BUYSELL</span>
+            </a>
+            <#if user.email??>
+                <div class="dropdown text-end">
+                    <a href="/profile">
+                        <img src="/static/images/avatar.png" alt="mdo"
+                             width="32" height="32" class="rounded-circle">
+                    </a>
+                </div>
+            <#else>
+                <button class="btn btn-light my-2 my-sm-0" type="button"
+                        onclick="window.location.href = '/login'">
+                    Войти
+                </button>
+            </#if>
+        </div>
+    </nav>
+    <div class="container mt-4">
+        <#nested/>
+    </div>
+
+    <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
+            integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
+            crossorigin="anonymous"></script>
+    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"
+            integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49"
+            crossorigin="anonymous"></script>
+    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.1/js/bootstrap.min.js"
+            integrity="sha384-smHYKdLADwkXOn1EmN1qk/HfnUcbVRZyYmZ4qpPea6sjB/pTJ0euyQp0Mk8ck+5T"
+            crossorigin="anonymous"></script>
+    </body>
+    </html>
+</#macro>
\ No newline at end of file
Index: pom.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project xmlns=\"http://maven.apache.org/POM/4.0.0\" xmlns:xsi=\"http://www.w3.org/2001/XMLSchema-instance\"\r\n\txsi:schemaLocation=\"http://maven.apache.org/POM/4.0.0 https://maven.apache.org/xsd/maven-4.0.0.xsd\">\r\n\t<modelVersion>4.0.0</modelVersion>\r\n\r\n\t<parent>\r\n\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t<artifactId>spring-boot-starter-parent</artifactId>\r\n\t\t<version>2.6.5</version>\r\n\t\t<relativePath/> <!-- lookup parent from repository -->\r\n\t</parent>\r\n\r\n\t<groupId>lt.autoservis</groupId>\r\n\t<artifactId>u5</artifactId>\r\n\t<version>0.0.1-SNAPSHOT</version>\r\n\r\n\t<name>praktika5</name>\r\n\t<description>Aplikacija, kurios pagalba automobilių servisų klientai randa informaciją apie automobilių remonto servisų meistrus bei juos įvertina</description>\r\n\r\n\t<properties>\r\n\t\t<java.version>11</java.version>\r\n\t</properties>\r\n\r\n\r\n\t<dependencies>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-data-jpa</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-web</artifactId>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-test</artifactId>\r\n\t\t\t<scope>test</scope>\r\n\t\t</dependency>\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-thymeleaf</artifactId>\r\n\t\t</dependency>\r\n\r\n\t\t<!-- DataBase support -->\r\n\t\t<dependency>\r\n\t\t\t<groupId>mysql</groupId>\r\n\t\t\t<artifactId>mysql-connector-java</artifactId>\r\n\t\t\t<scope>runtime</scope>\r\n\t\t</dependency>\r\n\r\n\r\n\t\t<!-- security -->\r\n\t\t<dependency>\r\n\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t<artifactId>spring-boot-starter-security</artifactId>\r\n\t\t</dependency>\r\n\r\n\t\t<dependency>\r\n\t\t<groupId>org.springframework.security</groupId>\r\n\t\t<artifactId>spring-security-test</artifactId>\r\n\t\t<scope>test</scope>\r\n\t\t</dependency>\r\n\t</dependencies>\r\n\r\n\t<build>\r\n\t\t<plugins>\r\n\t\t\t<plugin>\r\n\t\t\t\t<groupId>org.springframework.boot</groupId>\r\n\t\t\t\t<artifactId>spring-boot-maven-plugin</artifactId>\r\n\t\t\t</plugin>\r\n\t\t</plugins>\r\n\t</build>\r\n\r\n</project>\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/pom.xml b/pom.xml
--- a/pom.xml	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/pom.xml	(date 1659962184469)
@@ -33,6 +33,10 @@
 		</dependency>
 		<dependency>
 			<groupId>org.springframework.boot</groupId>
+			<artifactId>spring-boot-starter-freemarker</artifactId>
+		</dependency>
+		<dependency>
+			<groupId>org.springframework.boot</groupId>
 			<artifactId>spring-boot-starter-test</artifactId>
 			<scope>test</scope>
 		</dependency>
@@ -60,7 +64,11 @@
 		<artifactId>spring-security-test</artifactId>
 		<scope>test</scope>
 		</dependency>
-	</dependencies>
+        <dependency>
+            <groupId>org.projectlombok</groupId>
+            <artifactId>lombok</artifactId>
+        </dependency>
+    </dependencies>
 
 	<build>
 		<plugins>
Index: src/main/resources/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>spring.datasource.url=jdbc:mysql://sql504.main-hosting.eu/u355634419_autoservis2?server Timezone=UTC&characterEncoding=utf8\r\nspring.datasource.username=u355634419_gerimantas\r\nspring.datasource.password=Ziedas+1\r\nspring.flyway.check-location = false\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/src/main/resources/application.properties b/src/main/resources/application.properties
--- a/src/main/resources/application.properties	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/src/main/resources/application.properties	(date 1659962184485)
@@ -6,5 +6,10 @@
 spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect
 spring.jpa.hibernate.ddl-auto=update
 
+spring.freemarker.expose-request-attributes=true
+
+spring.servlet.multipart.max-file-size=100MB
+spring.servlet.multipart.max-request-size=100MB
+
 
 
Index: .idea/workspace.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"AutoImportSettings\">\r\n    <option name=\"autoReloadType\" value=\"SELECTIVE\" />\r\n  </component>\r\n  <component name=\"ChangeListManager\">\r\n    <list default=\"true\" id=\"0ea92179-6416-4648-8b29-ddac217a6bb2\" name=\"Changes\" comment=\"klaida 'flywayInitializer'\">\r\n      <change afterPath=\"$PROJECT_DIR$/src/main/resources/db/migration/init.sql\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/.idea/workspace.xml\" beforeDir=\"false\" afterPath=\"$PROJECT_DIR$/.idea/workspace.xml\" afterDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/restservice/Greeting.java\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/restservice/GreetingController.java\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/src/main/java/restservice/RestServiceApplication.java\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/restservice/Greeting.class\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/restservice/GreetingController.class\" beforeDir=\"false\" />\r\n      <change beforePath=\"$PROJECT_DIR$/target/classes/restservice/RestServiceApplication.class\" beforeDir=\"false\" />\r\n    </list>\r\n    <option name=\"SHOW_DIALOG\" value=\"false\" />\r\n    <option name=\"HIGHLIGHT_CONFLICTS\" value=\"true\" />\r\n    <option name=\"HIGHLIGHT_NON_ACTIVE_CHANGELIST\" value=\"false\" />\r\n    <option name=\"LAST_RESOLUTION\" value=\"IGNORE\" />\r\n  </component>\r\n  <component name=\"CodeInsightWorkspaceSettings\">\r\n    <option name=\"optimizeImportsOnTheFly\" value=\"true\" />\r\n  </component>\r\n  <component name=\"FileTemplateManagerImpl\">\r\n    <option name=\"RECENT_TEMPLATES\">\r\n      <list>\r\n        <option value=\"Interface\" />\r\n        <option value=\"Class\" />\r\n        <option value=\"HTML File\" />\r\n      </list>\r\n    </option>\r\n  </component>\r\n  <component name=\"Git.Settings\">\r\n    <option name=\"RECENT_BRANCH_BY_REPOSITORY\">\r\n      <map>\r\n        <entry key=\"$PROJECT_DIR$\" value=\"main\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_GIT_ROOT_PATH\" value=\"$PROJECT_DIR$\" />\r\n  </component>\r\n  <component name=\"GitSEFilterConfiguration\">\r\n    <file-type-list>\r\n      <filtered-out-file-type name=\"LOCAL_BRANCH\" />\r\n      <filtered-out-file-type name=\"REMOTE_BRANCH\" />\r\n      <filtered-out-file-type name=\"TAG\" />\r\n      <filtered-out-file-type name=\"COMMIT_BY_MESSAGE\" />\r\n    </file-type-list>\r\n  </component>\r\n  <component name=\"JpbToolWindowState\">\r\n    <option name=\"myId2FirstActivated\">\r\n      <map>\r\n        <entry key=\"com.haulmont.jpb.jpaInspector\" value=\"true\" />\r\n        <entry key=\"com.haulmont.jpb.jpaPalette\" value=\"true\" />\r\n        <entry key=\"com.haulmont.jpb.jpaStructure\" value=\"true\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"myId2Visible\">\r\n      <map>\r\n        <entry key=\"com.haulmont.jpb.jpaInspector\" value=\"false\" />\r\n        <entry key=\"com.haulmont.jpb.jpaPalette\" value=\"false\" />\r\n        <entry key=\"com.haulmont.jpb.jpaStructure\" value=\"false\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"KotlinCodeInsightWorkspaceSettings\">\r\n    <option name=\"optimizeImportsOnTheFly\" value=\"true\" />\r\n  </component>\r\n  <component name=\"MarkdownSettingsMigration\">\r\n    <option name=\"stateVersion\" value=\"1\" />\r\n  </component>\r\n  <component name=\"MavenImportPreferences\">\r\n    <option name=\"generalSettings\">\r\n      <MavenGeneralSettings>\r\n        <option name=\"mavenHome\" value=\"Use Maven wrapper\" />\r\n        <option name=\"useMavenConfig\" value=\"true\" />\r\n      </MavenGeneralSettings>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectId\" id=\"26ups2WWGLsnr2KKiVdPTRRt9pe\" />\r\n  <component name=\"ProjectLevelVcsManager\" settingsEditedManually=\"true\">\r\n    <OptionsSetting value=\"false\" id=\"Update\" />\r\n    <ConfirmationsSetting value=\"2\" id=\"Add\" />\r\n  </component>\r\n  <component name=\"ProjectViewState\">\r\n    <option name=\"hideEmptyMiddlePackages\" value=\"true\" />\r\n    <option name=\"showLibraryContents\" value=\"true\" />\r\n  </component>\r\n  <component name=\"PropertiesComponent\">\r\n    <property name=\"DefaultHtmlFileTemplate\" value=\"HTML File\" />\r\n    <property name=\"RunOnceActivity.OpenProjectViewOnStart\" value=\"true\" />\r\n    <property name=\"RunOnceActivity.ShowReadmeOnStart\" value=\"true\" />\r\n    <property name=\"SHARE_PROJECT_CONFIGURATION_FILES\" value=\"true\" />\r\n    <property name=\"exceleditor.install\" value=\"false\" />\r\n    <property name=\"last_opened_file_path\" value=\"$PROJECT_DIR$/src/main/resources/templates\" />\r\n    <property name=\"project.structure.last.edited\" value=\"SDKs\" />\r\n    <property name=\"project.structure.proportion\" value=\"0.0\" />\r\n    <property name=\"project.structure.side.proportion\" value=\"0.0\" />\r\n    <property name=\"settings.editor.selected.configurable\" value=\"editor.preferences.import\" />\r\n  </component>\r\n  <component name=\"RecentsManager\">\r\n    <key name=\"CopyFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\main\\resources\\templates\" />\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\main\\java\\lt\\autoservis\\u5\" />\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\" />\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\test\" />\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\main\\java\" />\r\n    </key>\r\n    <key name=\"MoveFile.RECENT_KEYS\">\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\main\\resources\\templates\" />\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\main\\java\\securingweb\" />\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\main\\java\" />\r\n      <recent name=\"C:\\Users\\37065\\OneDrive\\Desktop\\Programavimas\\u5_web\\src\\test\\java\\lt\\autoservis\\u5\" />\r\n      <recent name=\"C:\\Users\\37065\\IdeaProjects\\Spring-boot\\u5\\src\\main\\resources\" />\r\n    </key>\r\n    <key name=\"CopyClassDialog.RECENTS_KEY\">\r\n      <recent name=\"lt.autoservis.u5.security\" />\r\n      <recent name=\"lt.autoservis.u5.model.repository\" />\r\n      <recent name=\"lt.autoservis.u5.model.entity\" />\r\n      <recent name=\"lt.autoservis.u5.Component\" />\r\n      <recent name=\"lt.autoservis.u5.config\" />\r\n    </key>\r\n  </component>\r\n  <component name=\"RunManager\" selected=\"Application.Praktika5Application\">\r\n    <configuration name=\"Praktika5Application\" type=\"Application\" factoryName=\"Application\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"lt.autoservis.u5.Praktika5Application\" />\r\n      <module name=\"uzduotis_5_autoservisai\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"lt.autoservis.u5.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration name=\"RestServiceApplication\" type=\"Application\" factoryName=\"Application\" temporary=\"true\" nameIsGenerated=\"true\">\r\n      <option name=\"MAIN_CLASS_NAME\" value=\"restservice.RestServiceApplication\" />\r\n      <module name=\"uzduotis_5_autoservisai\" />\r\n      <extension name=\"coverage\">\r\n        <pattern>\r\n          <option name=\"PATTERN\" value=\"restservice.*\" />\r\n          <option name=\"ENABLED\" value=\"true\" />\r\n        </pattern>\r\n      </extension>\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration default=\"true\" type=\"JetRunConfigurationType\">\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <configuration default=\"true\" type=\"KotlinStandaloneScriptRunConfigurationType\">\r\n      <option name=\"filePath\" />\r\n      <method v=\"2\">\r\n        <option name=\"Make\" enabled=\"true\" />\r\n      </method>\r\n    </configuration>\r\n    <recent_temporary>\r\n      <list>\r\n        <item itemvalue=\"Application.Praktika5Application\" />\r\n        <item itemvalue=\"Application.RestServiceApplication\" />\r\n      </list>\r\n    </recent_temporary>\r\n  </component>\r\n  <component name=\"SpellCheckerSettings\" RuntimeDictionaries=\"0\" Folders=\"0\" CustomDictionaries=\"0\" DefaultDictionary=\"application-level\" UseSingleDictionary=\"true\" transferred=\"true\" />\r\n  <component name=\"TaskManager\">\r\n    <task active=\"true\" id=\"Default\" summary=\"Default task\">\r\n      <changelist id=\"0ea92179-6416-4648-8b29-ddac217a6bb2\" name=\"Changes\" comment=\"\" />\r\n      <created>1648283533165</created>\r\n      <option name=\"number\" value=\"Default\" />\r\n      <option name=\"presentableId\" value=\"Default\" />\r\n      <updated>1648283533165</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00001\" summary=\"Prijungta duomenu baze: autoservis\">\r\n      <created>1648286984467</created>\r\n      <option name=\"number\" value=\"00001\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00001\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1648286984467</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00002\" summary=\"Sukurti paketai, entity - Autoservisai\">\r\n      <created>1648288376902</created>\r\n      <option name=\"number\" value=\"00002\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00002\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1648288376902</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00003\" summary=\"Sukurtos Autoservisu ir Kategoriju jungciu lenteles\">\r\n      <created>1648333389280</created>\r\n      <option name=\"number\" value=\"00003\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00003\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1648333389280</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00004\" summary=\"Pratestuota su Postman\">\r\n      <created>1648576393109</created>\r\n      <option name=\"number\" value=\"00004\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00004\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1648576393109</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00005\" summary=\"Klaidos ieskom\">\r\n      <created>1649151287989</created>\r\n      <option name=\"number\" value=\"00005\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00005\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649151287989</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00006\" summary=\"@JsonIgnore\">\r\n      <created>1649168460296</created>\r\n      <option name=\"number\" value=\"00006\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00006\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649168460296</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00007\" summary=\"Istaisyta autoservisai_id dubliavimo klaida\">\r\n      <created>1649324437241</created>\r\n      <option name=\"number\" value=\"00007\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00007\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649324437241</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00008\" summary=\"Sudeta adresai, telefonai, vartotojai, vertinimas\">\r\n      <created>1649366864899</created>\r\n      <option name=\"number\" value=\"00008\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00008\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649366864899</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00009\" summary=\"Sudeti controleriai\">\r\n      <created>1649667941121</created>\r\n      <option name=\"number\" value=\"00009\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00009\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649667941121</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00010\" summary=\"Pratestuota su Thymeleaf (th), veikia\">\r\n      <created>1649765816218</created>\r\n      <option name=\"number\" value=\"00010\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00010\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649765816218</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00011\" summary=\"Resursuose ideta autoservis.sql\">\r\n      <created>1649833798198</created>\r\n      <option name=\"number\" value=\"00011\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00011\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1649833798198</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00012\" summary=\"Specializaciju isvedimas\">\r\n      <created>1650369280875</created>\r\n      <option name=\"number\" value=\"LOCAL−00012\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00012\" />\r\n      <updated>1650369280875</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00013\" summary=\"Specializacijos ir autoservisai isvedimas\">\r\n      <created>1650371975531</created>\r\n      <option name=\"number\" value=\"LOCAL−00013\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00013\" />\r\n      <updated>1650371975531</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00014\" summary=\"Autoserviso idejimo klaida\">\r\n      <created>1650478345440</created>\r\n      <option name=\"number\" value=\"LOCAL−00014\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00014\" />\r\n      <updated>1650478345440</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00015\" summary=\"Prisijungta prie web serverio\">\r\n      <created>1650797572384</created>\r\n      <option name=\"number\" value=\"LOCAL−00015\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00015\" />\r\n      <updated>1650797572384</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00016\" summary=\"Prisijungta prie web serverio\">\r\n      <created>1650879752722</created>\r\n      <option name=\"number\" value=\"LOCAL−00016\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00016\" />\r\n      <updated>1650879752722</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00017\" summary=\"Meistru sarasas ir pasirinkimo mygtukas\">\r\n      <created>1650958187431</created>\r\n      <option name=\"number\" value=\"LOCAL−00017\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00017\" />\r\n      <updated>1650958187431</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00018\" summary=\"Meistru sarasas ir pasirinkimo mygtukas\">\r\n      <created>1650959650312</created>\r\n      <option name=\"number\" value=\"LOCAL−00018\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00018\" />\r\n      <updated>1650959650312</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00019\" summary=\"Meistru sarasas ir pasirinkimo mygtukas\">\r\n      <created>1650959972134</created>\r\n      <option name=\"number\" value=\"LOCAL−00019\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00019\" />\r\n      <updated>1650959972134</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00020\" summary=\"Meistru sarasas ir pasirinkimo mygtukas\">\r\n      <created>1650987829066</created>\r\n      <option name=\"number\" value=\"LOCAL−00020\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00020\" />\r\n      <updated>1650987829066</updated>\r\n    </task>\r\n    <task id=\"LOCAL−00021\" summary=\"Meistru sarasas ir pasirinkimo mygtukas\">\r\n      <created>1650988072161</created>\r\n      <option name=\"number\" value=\"LOCAL−00021\" />\r\n      <option name=\"presentableId\" value=\"LOCAL−00021\" />\r\n      <updated>1650988072161</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00022\" summary=\"Atnaujinta 06-26\">\r\n      <created>1656443671236</created>\r\n      <option name=\"number\" value=\"00022\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00022\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1656443671236</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00023\" summary=\"Ikeltas projektas\">\r\n      <created>1656520009409</created>\r\n      <option name=\"number\" value=\"00023\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00023\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1656520009409</updated>\r\n    </task>\r\n    <task id=\"LOCAL-00024\" summary=\"klaida 'flywayInitializer'\">\r\n      <created>1659453134728</created>\r\n      <option name=\"number\" value=\"00024\" />\r\n      <option name=\"presentableId\" value=\"LOCAL-00024\" />\r\n      <option name=\"project\" value=\"LOCAL\" />\r\n      <updated>1659453134728</updated>\r\n    </task>\r\n    <option name=\"localTasksCounter\" value=\"25\" />\r\n    <servers />\r\n  </component>\r\n  <component name=\"Vcs.Log.Tabs.Properties\">\r\n    <option name=\"TAB_STATES\">\r\n      <map>\r\n        <entry key=\"MAIN\">\r\n          <value>\r\n            <State>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"main\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n        <entry key=\"c4f46998-e62d-425e-b392-f50c13022d5c\">\r\n          <value>\r\n            <State>\r\n              <option name=\"FILTERS\">\r\n                <map>\r\n                  <entry key=\"branch\">\r\n                    <value>\r\n                      <list>\r\n                        <option value=\"main\" />\r\n                      </list>\r\n                    </value>\r\n                  </entry>\r\n                </map>\r\n              </option>\r\n            </State>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n    <option name=\"OPEN_GENERIC_TABS\">\r\n      <map>\r\n        <entry key=\"c4f46998-e62d-425e-b392-f50c13022d5c\" value=\"TOOL_WINDOW\" />\r\n      </map>\r\n    </option>\r\n    <option name=\"RECENT_FILTERS\">\r\n      <map>\r\n        <entry key=\"Branch\">\r\n          <value>\r\n            <list>\r\n              <RecentGroup>\r\n                <option name=\"FILTER_VALUES\">\r\n                  <option value=\"main\" />\r\n                </option>\r\n              </RecentGroup>\r\n            </list>\r\n          </value>\r\n        </entry>\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"VcsManagerConfiguration\">\r\n    <MESSAGE value=\"Pradzia\" />\r\n    <MESSAGE value=\"Prijungta duomenu baze: autoservis\" />\r\n    <MESSAGE value=\"Sukurti paketai, entity - Autoservisai\" />\r\n    <MESSAGE value=\"Sukurtos Autoservisu ir Kategoriju jungciu lenteles\" />\r\n    <MESSAGE value=\"Pratestuota su Postman\" />\r\n    <MESSAGE value=\"Klaidos ieskom\" />\r\n    <MESSAGE value=\"@JsonIgnore\" />\r\n    <MESSAGE value=\"Istaisyta autoservisai_id dubliavimo klaida\" />\r\n    <MESSAGE value=\"Sudeta adresai, telefonai, vartotojai, vertinimas\" />\r\n    <MESSAGE value=\"Sudeti controleriai\" />\r\n    <MESSAGE value=\"Pratestuota su Thymeleaf (th), veikia\" />\r\n    <MESSAGE value=\"Resursuose ideta autoservis.sql\" />\r\n    <MESSAGE value=\"Specializaciju isvedimas\" />\r\n    <MESSAGE value=\"Specializacijos ir autoservisai isvedimas\" />\r\n    <MESSAGE value=\"Autoserviso idejimo klaida\" />\r\n    <MESSAGE value=\"Prisijungta prie web serverio\" />\r\n    <MESSAGE value=\"Meistru sarasas ir pasirinkimo mygtukas\" />\r\n    <MESSAGE value=\"Atnaujinta 06-26\" />\r\n    <MESSAGE value=\"Ikeltas projektas\" />\r\n    <MESSAGE value=\"Klaida security daryme 'flywayInitializer'\" />\r\n    <MESSAGE value=\"klaida 'flywayInitializer'\" />\r\n    <option name=\"LAST_COMMIT_MESSAGE\" value=\"klaida 'flywayInitializer'\" />\r\n  </component>\r\n  <component name=\"XDebuggerManager\">\r\n    <breakpoint-manager>\r\n      <breakpoints>\r\n        <breakpoint enabled=\"true\" type=\"java-exception\">\r\n          <properties class=\"java.lang.StackOverflowError\" package=\"java.lang\" />\r\n          <option name=\"timeStamp\" value=\"2\" />\r\n        </breakpoint>\r\n        <breakpoint enabled=\"true\" type=\"java-exception\">\r\n          <properties class=\"org.hibernate.MappingException\" package=\"org.hibernate\" />\r\n          <option name=\"timeStamp\" value=\"4\" />\r\n        </breakpoint>\r\n        <line-breakpoint enabled=\"true\" type=\"java-line\">\r\n          <url>file://$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/SpecializacijaMVControler.java</url>\r\n          <line>41</line>\r\n          <option name=\"timeStamp\" value=\"7\" />\r\n        </line-breakpoint>\r\n      </breakpoints>\r\n    </breakpoint-manager>\r\n  </component>\r\n  <component name=\"XSLT-Support.FileAssociations.UIState\">\r\n    <expand />\r\n    <select />\r\n  </component>\r\n  <component name=\"com.intellij.coverage.CoverageDataManagerImpl\">\r\n    <SUITE FILE_PATH=\"coverage/workspace_xml$Praktika5Application.ic\" NAME=\"Praktika5Application Coverage Results\" MODIFIED=\"1659467021624\" SOURCE_PROVIDER=\"com.intellij.coverage.DefaultCoverageFileProvider\" RUNNER=\"idea\" COVERAGE_BY_TEST_ENABLED=\"false\" COVERAGE_TRACING_ENABLED=\"false\">\r\n      <FILTER>lt.autoservis.u5.*</FILTER>\r\n    </SUITE>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/workspace.xml b/.idea/workspace.xml
--- a/.idea/workspace.xml	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/.idea/workspace.xml	(date 1659962184548)
@@ -4,15 +4,130 @@
     <option name="autoReloadType" value="SELECTIVE" />
   </component>
   <component name="ChangeListManager">
-    <list default="true" id="0ea92179-6416-4648-8b29-ddac217a6bb2" name="Changes" comment="klaida 'flywayInitializer'">
-      <change afterPath="$PROJECT_DIR$/src/main/resources/db/migration/init.sql" afterDir="false" />
+    <list default="true" id="0ea92179-6416-4648-8b29-ddac217a6bb2" name="Changes" comment="Login klaida security5 branch'e">
+      <change afterPath="$PROJECT_DIR$/.mvn/wrapper/MavenWrapperDownloader.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/configurations/MvcConfig.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/configurations/SecurityConfig.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/AdminController.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/ImageController.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/ProductController.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/UserController.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Image.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Product.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/User.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/enums/Role.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/repository/ImageRepository.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/repository/ProductRepository.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/repository/UserRepository.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/services/CustomUserDetailsService.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/services/ProductService.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/services/UserService.java" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/admin.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/blocks/template.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/login.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/my-products.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/product-info.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/products.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/profile.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/registration.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/user-edit.ftlh" afterDir="false" />
+      <change afterPath="$PROJECT_DIR$/src/main/resources/templates/user-info.ftlh" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/compiler.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/compiler.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_01_12__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_01_12__Changes_.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_01_12__Changes_1.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_01_12__Changes_1.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_10_17__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_10_17__Changes_.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_10_58__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_10_58__Changes_.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_10_58__Changes_1.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_10_58__Changes_1.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_11_05__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_11_05__Changes_.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_11_05__Changes_1.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_08_08_2022_11_05__Changes_1.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Merge_at_08_08_2022_11_02__Changes_.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Merge_at_08_08_2022_11_02__Changes_.xml" afterDir="false" />
       <change beforePath="$PROJECT_DIR$/.idea/workspace.xml" beforeDir="false" afterPath="$PROJECT_DIR$/.idea/workspace.xml" afterDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/restservice/Greeting.java" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/restservice/GreetingController.java" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/src/main/java/restservice/RestServiceApplication.java" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/restservice/Greeting.class" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/restservice/GreetingController.class" beforeDir="false" />
-      <change beforePath="$PROJECT_DIR$/target/classes/restservice/RestServiceApplication.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/pom.xml" beforeDir="false" afterPath="$PROJECT_DIR$/pom.xml" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/Component/SetupDataLoader.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/config/MvcConfig.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/AutoservisaiController.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/MeistraiControler.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/MeistraiControler.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/SpecializacijaControler.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/VartotojuRolesControler.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/VertinimasControler.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/controller/VertinimasControler.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Meistrai.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Meistrai.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Privilegijos.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Role.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Vartotojas.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Vartotojas.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Vertinimas.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/entity/Vertinimas.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/repository/PrivilegijosRepository.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/repository/RoleRepository.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/repository/VertinimasRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/model/repository/VertinimasRepository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/security/MyUserDetails.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/security/UserDetailsServiceImpl.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/java/lt/autoservis/u5/security/WebSecurityConfig.java" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/autoservisai_specializacijos.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/autoservisai_specializacijos.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/autoserviso_redagavimas.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/autoserviso_redagavimas.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/duomenys_autoservisai.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/duomenys_autoservisai.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/duomenys_meistrai.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/duomenys_meistrai.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/duomenys_specializacijos.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/duomenys_specializacijos.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/hello.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/hello.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/home.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/home.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/ideta_specializacija.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/ideta_specializacija.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/idetas_autoservisas.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/idetas_autoservisas.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/ideti_autoservisa.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/ideti_autoservisa.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/ideti_specializacija.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/ideti_specializacija.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/ivertinti_meistra.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/ivertinti_meistra.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/login.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/login.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/redaguotas_autoservisas.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/redaguotas_autoservisas.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/specializacijos_autoservisai.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/specializacijos_autoservisai.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/testas_autoservisai.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/testas_autoservisai.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/testinis.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/testinis.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/visi_autoservisai.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/visi_autoservisai.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/visi_meistrai.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/visi_meistrai.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/src/main/resources/templates/visos_specializacijos.html" beforeDir="false" afterPath="$PROJECT_DIR$/src/main/resources/templates2/visos_specializacijos.html" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/application.properties" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/application.properties" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/Component/SetupDataLoader.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/Praktika5Application.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/config/MvcConfig.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/controller/AutoservisaiController.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/controller/MeistraiControler.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/controller/MeistraiControler.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/controller/SpecializacijaControler.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/controller/VartotojuRolesControler.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/controller/VertinimasControler.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/controller/VertinimasControler.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Meistrai.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Meistrai.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Privilegijos.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Role.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Vartotojas.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Vartotojas.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Vertinimas.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/entity/Vertinimas.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/repository/PrivilegijosRepository.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/repository/RoleRepository.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/repository/VertinimasRepository.class" beforeDir="false" afterPath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/model/repository/VertinimasRepository.class" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/security/MyUserDetails.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/security/UserDetailsServiceImpl.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/lt/autoservis/u5/security/WebSecurityConfig.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/autoservisai_specializacijos.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/autoserviso_redagavimas.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/duomenys_autoservisai.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/duomenys_meistrai.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/duomenys_specializacijos.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/hello.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/home.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/ideta_specializacija.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/idetas_autoservisas.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/ideti_autoservisa.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/ideti_specializacija.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/ivertinti_meistra.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/login.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/redaguotas_autoservisas.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/specializacijos_autoservisai.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/testas_autoservisai.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/testinis.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/visi_autoservisai.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/visi_meistrai.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/classes/templates/visos_specializacijos.html" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/target/test-classes/lt/autoservis/u5/Praktika5ApplicationTests.class" beforeDir="false" />
+      <change beforePath="$PROJECT_DIR$/uzd_5_autoservisai" beforeDir="false" afterPath="$PROJECT_DIR$/uzd_5_autoservisai" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/Component/SetupDataLoader.java" beforeDir="false" afterPath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/Component/SetupDataLoader.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/model/repository/PrivilegijosRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/model/repository/PrivilegijosRepository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/model/repository/RoleRepository.java" beforeDir="false" afterPath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/model/repository/RoleRepository.java" afterDir="false" />
+      <change beforePath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/security/MyUserDetails.java" beforeDir="false" afterPath="$PROJECT_DIR$/uzd_5_autoservisai/src/main/java/lt/autoservis/u5/security/MyUserDetails.java" afterDir="false" />
     </list>
     <option name="SHOW_DIALOG" value="false" />
     <option name="HIGHLIGHT_CONFLICTS" value="true" />
@@ -34,10 +149,11 @@
   <component name="Git.Settings">
     <option name="RECENT_BRANCH_BY_REPOSITORY">
       <map>
-        <entry key="$PROJECT_DIR$" value="main" />
+        <entry key="$PROJECT_DIR$" value="security4" />
       </map>
     </option>
     <option name="RECENT_GIT_ROOT_PATH" value="$PROJECT_DIR$" />
+    <option name="ROOT_SYNC" value="DONT_SYNC" />
   </component>
   <component name="GitSEFilterConfiguration">
     <file-type-list>
@@ -92,7 +208,7 @@
     <property name="RunOnceActivity.ShowReadmeOnStart" value="true" />
     <property name="SHARE_PROJECT_CONFIGURATION_FILES" value="true" />
     <property name="exceleditor.install" value="false" />
-    <property name="last_opened_file_path" value="$PROJECT_DIR$/src/main/resources/templates" />
+    <property name="last_opened_file_path" value="$PROJECT_DIR$/src/main/java/lt/autoservis/u5" />
     <property name="project.structure.last.edited" value="SDKs" />
     <property name="project.structure.proportion" value="0.0" />
     <property name="project.structure.side.proportion" value="0.0" />
@@ -100,25 +216,25 @@
   </component>
   <component name="RecentsManager">
     <key name="CopyFile.RECENT_KEYS">
-      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\resources\templates" />
       <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\java\lt\autoservis\u5" />
-      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web" />
-      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\test" />
-      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\java" />
+      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\.mvn\wrapper" />
+      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\java\lt\autoservis\u5\controller" />
+      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\java\lt\autoservis\u5\model\repository" />
+      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\java\lt\autoservis\u5\model\entity" />
     </key>
     <key name="MoveFile.RECENT_KEYS">
+      <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\resources\templates2" />
       <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\resources\templates" />
       <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\java\securingweb" />
       <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\main\java" />
       <recent name="C:\Users\37065\OneDrive\Desktop\Programavimas\u5_web\src\test\java\lt\autoservis\u5" />
-      <recent name="C:\Users\37065\IdeaProjects\Spring-boot\u5\src\main\resources" />
     </key>
     <key name="CopyClassDialog.RECENTS_KEY">
+      <recent name="lt.autoservis.u5.model.enums" />
       <recent name="lt.autoservis.u5.security" />
       <recent name="lt.autoservis.u5.model.repository" />
       <recent name="lt.autoservis.u5.model.entity" />
       <recent name="lt.autoservis.u5.Component" />
-      <recent name="lt.autoservis.u5.config" />
     </key>
   </component>
   <component name="RunManager" selected="Application.Praktika5Application">
@@ -418,7 +534,8 @@
     <MESSAGE value="Ikeltas projektas" />
     <MESSAGE value="Klaida security daryme 'flywayInitializer'" />
     <MESSAGE value="klaida 'flywayInitializer'" />
-    <option name="LAST_COMMIT_MESSAGE" value="klaida 'flywayInitializer'" />
+    <MESSAGE value="Login klaida security5 branch'e" />
+    <option name="LAST_COMMIT_MESSAGE" value="Login klaida security5 branch'e" />
   </component>
   <component name="XDebuggerManager">
     <breakpoint-manager>
Index: src/main/java/lt/autoservis/u5/controller/MeistraiControler.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lt.autoservis.u5.controller;\r\n\r\n\r\nimport lt.autoservis.u5.model.entity.Meistrai;\r\nimport lt.autoservis.u5.model.repository.AutoservisaiRepository;\r\nimport lt.autoservis.u5.model.repository.MeistraiRepository;\r\nimport lt.autoservis.u5.model.repository.SpecializacijaRepository;\r\nimport lt.autoservis.u5.model.repository.VertinimasRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.ui.Model;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\nimport org.springframework.web.bind.annotation.RequestParam;\r\n\r\nimport java.util.List;\r\n\r\n@Controller\r\npublic class MeistraiControler {\r\n\r\n    @Autowired\r\n    MeistraiRepository meistraiRepository;\r\n\r\n    @Autowired\r\n    SpecializacijaRepository specializacijaRepository;\r\n\r\n    @Autowired\r\n    AutoservisaiRepository autoservisaiRepository;\r\n\r\n    @Autowired\r\n    VertinimasRepository vertinimasRepository;\r\n\r\n\r\n\r\n    @GetMapping (\"/meistrai/visi_meistrai\")\r\n    String rodytiVisusMeistrus(Model model) {\r\n        List<Meistrai> visiMeistrai = meistraiRepository.findAll();\r\n        model.addAttribute(\"visiMeistrai\", visiMeistrai);\r\n        return \"visi_meistrai.html\";\r\n    }\r\n\r\n    @GetMapping(\"/duomenys/meistrai\")\r\n    String meistruDuomenys(Model model, @RequestParam long id) {\r\n        Meistrai meistras = meistraiRepository.findById(id);\r\n        model.addAttribute(\"vardas_pavarde\", meistras.getVardas_pavarde());\r\n        model.addAttribute(\"specializacijaMeistro\", meistras.getSpecializacijaMeistro());\r\n        model.addAttribute(\"meistroVertinimas\", meistras.getVertinimasMeistru());\r\n        model.addAttribute(\"meistroAutoservisas\", meistras.getMeistroAutoservisas());\r\n        return \"duomenys_meistrai.html\";\r\n    }\r\n\r\n\r\n\r\n}\r\n\r\n//       http://localhost:8080/meistrai/visi_meistrai
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/MeistraiControler.java b/src/main/java/lt/autoservis/u5/controller/MeistraiControler.java
--- a/src/main/java/lt/autoservis/u5/controller/MeistraiControler.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/src/main/java/lt/autoservis/u5/controller/MeistraiControler.java	(date 1659962184563)
@@ -5,7 +5,6 @@
 import lt.autoservis.u5.model.repository.AutoservisaiRepository;
 import lt.autoservis.u5.model.repository.MeistraiRepository;
 import lt.autoservis.u5.model.repository.SpecializacijaRepository;
-import lt.autoservis.u5.model.repository.VertinimasRepository;
 import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Controller;
 import org.springframework.ui.Model;
@@ -26,8 +25,8 @@
     @Autowired
     AutoservisaiRepository autoservisaiRepository;
 
-    @Autowired
-    VertinimasRepository vertinimasRepository;
+//    @Autowired
+//    VertinimasRepository vertinimasRepository;
 
 
 
@@ -43,7 +42,7 @@
         Meistrai meistras = meistraiRepository.findById(id);
         model.addAttribute("vardas_pavarde", meistras.getVardas_pavarde());
         model.addAttribute("specializacijaMeistro", meistras.getSpecializacijaMeistro());
-        model.addAttribute("meistroVertinimas", meistras.getVertinimasMeistru());
+//        model.addAttribute("meistroVertinimas", meistras.getVertinimasMeistru());
         model.addAttribute("meistroAutoservisas", meistras.getMeistroAutoservisas());
         return "duomenys_meistrai.html";
     }
Index: src/main/java/lt/autoservis/u5/controller/VertinimasControler.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lt.autoservis.u5.controller;\r\n\r\nimport lt.autoservis.u5.model.repository.VertinimasRepository;\r\nimport org.springframework.beans.factory.annotation.Autowired;\r\nimport org.springframework.stereotype.Controller;\r\nimport org.springframework.web.bind.annotation.GetMapping;\r\n\r\n@Controller\r\npublic class VertinimasControler {\r\n\r\n    @Autowired\r\n    VertinimasRepository vertinimasRepository;\r\n\r\n    @GetMapping (\"/test/vertinimas\")\r\n    String testinisVertinimas() {\r\n        return \"puslapis veikia\";\r\n    }\r\n}\r\n\r\n\r\n\r\n// http://localhost:8080/test/vertinimas\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/VertinimasControler.java b/src/main/java/lt/autoservis/u5/controller/VertinimasControler.java
--- a/src/main/java/lt/autoservis/u5/controller/VertinimasControler.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/src/main/java/lt/autoservis/u5/controller/VertinimasControler.java	(date 1659962184579)
@@ -1,20 +1,17 @@
 package lt.autoservis.u5.controller;
 
-import lt.autoservis.u5.model.repository.VertinimasRepository;
-import org.springframework.beans.factory.annotation.Autowired;
 import org.springframework.stereotype.Controller;
-import org.springframework.web.bind.annotation.GetMapping;
 
 @Controller
 public class VertinimasControler {
 
-    @Autowired
-    VertinimasRepository vertinimasRepository;
-
-    @GetMapping ("/test/vertinimas")
-    String testinisVertinimas() {
-        return "puslapis veikia";
-    }
+//    @Autowired
+//    VertinimasRepository vertinimasRepository;
+//
+//    @GetMapping ("/test/vertinimas")
+//    String testinisVertinimas() {
+//        return "puslapis veikia";
+//    }
 }
 
 
Index: src/main/java/lt/autoservis/u5/model/entity/Vartotojas.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lt.autoservis.u5.model.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport javax.persistence.*;\r\nimport java.util.HashSet;\r\nimport java.util.Set;\r\n\r\n@Entity\r\npublic class Vartotojas {\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String username;\r\n    private String password;\r\n    private boolean enabled;\r\n\r\n    @JsonIgnore\r\n    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)\r\n    @JoinTable(\r\n            name = \"users_roles\",\r\n            joinColumns = @JoinColumn(name = \"vartotojas_id\"),\r\n            inverseJoinColumns = @JoinColumn(name = \"role_id\")\r\n    )\r\n    private Set<Role> rolesVartotoju = new HashSet<>();\r\n\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = \"vartotoju_vertinimai\",\r\n            joinColumns = @JoinColumn(name = \"vartotojo_id\"),\r\n            inverseJoinColumns = @JoinColumn(name = \"vertinimas_id\")\r\n    )\r\n    private Set<Vertinimas> vartotojuVertinimai;\r\n\r\n    public Vartotojas() {\r\n    }\r\n\r\n    public Vartotojas(long id, String username, String password, boolean enabled, Set<Role> rolesVartotoju, Set<Vertinimas> vartotojuVertinimai) {\r\n        this.id = id;\r\n        this.username = username;\r\n        this.password = password;\r\n        this.enabled = enabled;\r\n        this.rolesVartotoju = rolesVartotoju;\r\n        this.vartotojuVertinimai = vartotojuVertinimai;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getUsername() {\r\n        return username;\r\n    }\r\n\r\n    public void setUsername(String username) {\r\n        this.username = username;\r\n    }\r\n\r\n    public String getPassword() {\r\n        return password;\r\n    }\r\n\r\n    public void setPassword(String password) {\r\n        this.password = password;\r\n    }\r\n\r\n    public boolean isEnabled() {\r\n        return enabled;\r\n    }\r\n\r\n    public void setEnabled(boolean enabled) {\r\n        this.enabled = enabled;\r\n    }\r\n\r\n    public Set<Role> getRolesVartotoju() {\r\n        return rolesVartotoju;\r\n    }\r\n\r\n    public void setRolesVartotoju(Set<Role> rolesVartotoju) {\r\n        this.rolesVartotoju = rolesVartotoju;\r\n    }\r\n\r\n    public Set<Vertinimas> getVartotojuVertinimai() {\r\n        return vartotojuVertinimai;\r\n    }\r\n\r\n    public void setVartotojuVertinimai(Set<Vertinimas> vartotojuVertinimai) {\r\n        this.vartotojuVertinimai = vartotojuVertinimai;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return \"Vartotojas{\" +\r\n                \"id=\" + id +\r\n                \", username='\" + username + '\\'' +\r\n                \", password='\" + password + '\\'' +\r\n                \", enabled=\" + enabled +\r\n                \", rolesVartotoju=\" + rolesVartotoju +\r\n                \", vartotojuVertinimai=\" + vartotojuVertinimai +\r\n                '}';\r\n    }\r\n\r\n}\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/Vartotojas.java b/src/main/java/lt/autoservis/u5/model/entity/Vartotojas.java
--- a/src/main/java/lt/autoservis/u5/model/entity/Vartotojas.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/src/main/java/lt/autoservis/u5/model/entity/Vartotojas.java	(date 1659962184579)
@@ -1,9 +1,6 @@
 package lt.autoservis.u5.model.entity;
 
-import com.fasterxml.jackson.annotation.JsonIgnore;
-
 import javax.persistence.*;
-import java.util.HashSet;
 import java.util.Set;
 
 @Entity
@@ -15,14 +12,14 @@
     private String password;
     private boolean enabled;
 
-    @JsonIgnore
-    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)
-    @JoinTable(
-            name = "users_roles",
-            joinColumns = @JoinColumn(name = "vartotojas_id"),
-            inverseJoinColumns = @JoinColumn(name = "role_id")
-    )
-    private Set<Role> rolesVartotoju = new HashSet<>();
+//    @JsonIgnore
+//    @ManyToMany(cascade = CascadeType.ALL, fetch = FetchType.EAGER)
+//    @JoinTable(
+//            name = "users_roles",
+//            joinColumns = @JoinColumn(name = "vartotojas_id"),
+//            inverseJoinColumns = @JoinColumn(name = "role_id")
+//    )
+//    private Set<Role> rolesVartotoju = new HashSet<>();
 
 
     @ManyToMany
@@ -36,12 +33,11 @@
     public Vartotojas() {
     }
 
-    public Vartotojas(long id, String username, String password, boolean enabled, Set<Role> rolesVartotoju, Set<Vertinimas> vartotojuVertinimai) {
+    public Vartotojas(long id, String username, String password, boolean enabled, Set<Vertinimas> vartotojuVertinimai) {
         this.id = id;
         this.username = username;
         this.password = password;
         this.enabled = enabled;
-        this.rolesVartotoju = rolesVartotoju;
         this.vartotojuVertinimai = vartotojuVertinimai;
     }
 
@@ -77,14 +73,6 @@
         this.enabled = enabled;
     }
 
-    public Set<Role> getRolesVartotoju() {
-        return rolesVartotoju;
-    }
-
-    public void setRolesVartotoju(Set<Role> rolesVartotoju) {
-        this.rolesVartotoju = rolesVartotoju;
-    }
-
     public Set<Vertinimas> getVartotojuVertinimai() {
         return vartotojuVertinimai;
     }
@@ -100,10 +88,8 @@
                 ", username='" + username + '\'' +
                 ", password='" + password + '\'' +
                 ", enabled=" + enabled +
-                ", rolesVartotoju=" + rolesVartotoju +
                 ", vartotojuVertinimai=" + vartotojuVertinimai +
                 '}';
     }
-
 }
 
Index: src/main/java/lt/autoservis/u5/model/entity/Meistrai.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lt.autoservis.u5.model.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\n\r\nimport javax.persistence.*;\r\nimport java.util.Set;\r\n\r\n@Entity\r\npublic class Meistrai {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private String vardas_pavarde;\r\n\r\n\r\n    @ManyToMany\r\n    @JoinTable (\r\n            name = \"sujungimas_meistrai_specializacija\",\r\n            joinColumns = @JoinColumn(name = \"meistrai_id\"),\r\n            inverseJoinColumns = @JoinColumn(name = \"specializacija_id\"))\r\n    @JsonIgnore\r\n    private Set<Specializacija> specializacijaMeistro;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = \"autoservisai_id\")\r\n    private Autoservisai meistroAutoservisas;\r\n\r\n    @ManyToOne\r\n    @JoinColumn(name = \"meistroVertinimas\")\r\n    private Vertinimas vertinimasMeistru;\r\n\r\n\r\n    public Meistrai() {\r\n    }\r\n\r\n    public Meistrai(long id, String vardas_pavarde, Set<Specializacija> specializacijaMeistro, Autoservisai meistroAutoservisas, Vertinimas vertinimasMeistru) {\r\n        this.id = id;\r\n        this.vardas_pavarde = vardas_pavarde;\r\n        this.specializacijaMeistro = specializacijaMeistro;\r\n        this.meistroAutoservisas = meistroAutoservisas;\r\n        this.vertinimasMeistru = vertinimasMeistru;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public String getVardas_pavarde() {\r\n        return vardas_pavarde;\r\n    }\r\n\r\n    public void setVardas_pavarde(String vardas_pavarde) {\r\n        this.vardas_pavarde = vardas_pavarde;\r\n    }\r\n\r\n    public Set<Specializacija> getSpecializacijaMeistro() {\r\n        return specializacijaMeistro;\r\n    }\r\n\r\n    public void setSpecializacijaMeistro(Set<Specializacija> specializacijaMeistro) {\r\n        this.specializacijaMeistro = specializacijaMeistro;\r\n    }\r\n\r\n    public Autoservisai getMeistroAutoservisas() {\r\n        return meistroAutoservisas;\r\n    }\r\n\r\n    public void setMeistroAutoservisas(Autoservisai meistroAutoservisas) {\r\n        this.meistroAutoservisas = meistroAutoservisas;\r\n    }\r\n\r\n    public Vertinimas getVertinimasMeistru() {\r\n        return vertinimasMeistru;\r\n    }\r\n\r\n    public void setVertinimasMeistru(Vertinimas vertinimasMeistru) {\r\n        this.vertinimasMeistru = vertinimasMeistru;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return \"Meistrai{\" +\r\n                \"id=\" + id +\r\n                \", vardas_pavarde='\" + vardas_pavarde + '\\'' +\r\n                \", specializacijaMeistro=\" + specializacijaMeistro +\r\n                \", meistroAutoservisas=\" + meistroAutoservisas +\r\n                \", vertinimasMeistru=\" + vertinimasMeistru +\r\n                '}';\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/Meistrai.java b/src/main/java/lt/autoservis/u5/model/entity/Meistrai.java
--- a/src/main/java/lt/autoservis/u5/model/entity/Meistrai.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/src/main/java/lt/autoservis/u5/model/entity/Meistrai.java	(date 1659962184579)
@@ -28,20 +28,19 @@
     @JoinColumn(name = "autoservisai_id")
     private Autoservisai meistroAutoservisas;
 
-    @ManyToOne
-    @JoinColumn(name = "meistroVertinimas")
-    private Vertinimas vertinimasMeistru;
+//    @ManyToOne
+//    @JoinColumn(name = "meistroVertinimas")
+//    private Vertinimas vertinimasMeistru;
 
 
     public Meistrai() {
     }
 
-    public Meistrai(long id, String vardas_pavarde, Set<Specializacija> specializacijaMeistro, Autoservisai meistroAutoservisas, Vertinimas vertinimasMeistru) {
+    public Meistrai(long id, String vardas_pavarde, Set<Specializacija> specializacijaMeistro, Autoservisai meistroAutoservisas) {
         this.id = id;
         this.vardas_pavarde = vardas_pavarde;
         this.specializacijaMeistro = specializacijaMeistro;
         this.meistroAutoservisas = meistroAutoservisas;
-        this.vertinimasMeistru = vertinimasMeistru;
     }
 
     public long getId() {
@@ -76,14 +75,6 @@
         this.meistroAutoservisas = meistroAutoservisas;
     }
 
-    public Vertinimas getVertinimasMeistru() {
-        return vertinimasMeistru;
-    }
-
-    public void setVertinimasMeistru(Vertinimas vertinimasMeistru) {
-        this.vertinimasMeistru = vertinimasMeistru;
-    }
-
     @Override
     public String toString() {
         return "Meistrai{" +
@@ -91,7 +82,6 @@
                 ", vardas_pavarde='" + vardas_pavarde + '\'' +
                 ", specializacijaMeistro=" + specializacijaMeistro +
                 ", meistroAutoservisas=" + meistroAutoservisas +
-                ", vertinimasMeistru=" + vertinimasMeistru +
                 '}';
     }
 }
Index: src/main/java/lt/autoservis/u5/services/CustomUserDetailsService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/services/CustomUserDetailsService.java b/src/main/java/lt/autoservis/u5/services/CustomUserDetailsService.java
new file mode 100644
--- /dev/null	(date 1659962184594)
+++ b/src/main/java/lt/autoservis/u5/services/CustomUserDetailsService.java	(date 1659962184594)
@@ -0,0 +1,19 @@
+package lt.autoservis.u5.services;
+
+import lombok.RequiredArgsConstructor;
+import lt.autoservis.u5.model.repository.UserRepository;
+import org.springframework.security.core.userdetails.UserDetails;
+import org.springframework.security.core.userdetails.UserDetailsService;
+import org.springframework.security.core.userdetails.UsernameNotFoundException;
+import org.springframework.stereotype.Service;
+
+@Service
+@RequiredArgsConstructor
+public class CustomUserDetailsService implements UserDetailsService {
+    private final UserRepository userRepository;
+
+    @Override
+    public UserDetails loadUserByUsername(String email) throws UsernameNotFoundException {
+        return userRepository.findByEmail(email);
+    }
+}
Index: src/main/java/lt/autoservis/u5/services/ProductService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/services/ProductService.java b/src/main/java/lt/autoservis/u5/services/ProductService.java
new file mode 100644
--- /dev/null	(date 1659962184594)
+++ b/src/main/java/lt/autoservis/u5/services/ProductService.java	(date 1659962184594)
@@ -0,0 +1,85 @@
+package lt.autoservis.u5.services;
+
+import lt.autoservis.u5.model.entity.Image;
+import lt.autoservis.u5.model.entity.Product;
+import lt.autoservis.u5.model.entity.User;
+import lt.autoservis.u5.model.repository.ProductRepository;
+import lt.autoservis.u5.model.repository.UserRepository;
+import lombok.RequiredArgsConstructor;
+import lombok.extern.slf4j.Slf4j;
+import org.springframework.stereotype.Service;
+import org.springframework.web.multipart.MultipartFile;
+
+import java.io.IOException;
+import java.security.Principal;
+import java.util.List;
+
+@Service
+@Slf4j
+@RequiredArgsConstructor
+public class ProductService {
+    private final ProductRepository productRepository;
+    private final UserRepository userRepository;
+
+    public List<Product> listProducts(String title) {
+        if (title != null) return productRepository.findByTitle(title);
+        return productRepository.findAll();
+    }
+
+    public void saveProduct(Principal principal, Product product, MultipartFile file1, MultipartFile file2, MultipartFile file3) throws IOException {
+        product.setUser(getUserByPrincipal(principal));
+        Image image1;
+        Image image2;
+        Image image3;
+        if (file1.getSize() != 0) {
+            image1 = toImageEntity(file1);
+            image1.setPreviewImage(true);
+            product.addImageToProduct(image1);
+        }
+        if (file2.getSize() != 0) {
+            image2 = toImageEntity(file2);
+            product.addImageToProduct(image2);
+        }
+        if (file3.getSize() != 0) {
+            image3 = toImageEntity(file3);
+            product.addImageToProduct(image3);
+        }
+        log.info("Saving new Product. Title: {}; Author email: {}", product.getTitle(), product.getUser().getEmail());
+        Product productFromDb = productRepository.save(product);
+        productFromDb.setPreviewImageId(productFromDb.getImages().get(0).getId());
+        productRepository.save(product);
+    }
+
+    public User getUserByPrincipal(Principal principal) {
+        if (principal == null) return new User();
+        return userRepository.findByEmail(principal.getName());
+    }
+
+    private Image toImageEntity(MultipartFile file) throws IOException {
+        Image image = new Image();
+        image.setName(file.getName());
+        image.setOriginalFileName(file.getOriginalFilename());
+        image.setContentType(file.getContentType());
+        image.setSize(file.getSize());
+        image.setBytes(file.getBytes());
+        return image;
+    }
+
+    public void deleteProduct(User user, Long id) {
+        Product product = productRepository.findById(id)
+                .orElse(null);
+        if (product != null) {
+            if (product.getUser().getId().equals(user.getId())) {
+                productRepository.delete(product);
+                log.info("Product with id = {} was deleted", id);
+            } else {
+                log.error("User: {} haven't this product with id = {}", user.getEmail(), id);
+            }
+        } else {
+            log.error("Product with id = {} is not found", id);
+        }    }
+
+    public Product getProductById(Long id) {
+        return productRepository.findById(id).orElse(null);
+    }
+}
Index: src/main/java/lt/autoservis/u5/model/repository/UserRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/repository/UserRepository.java b/src/main/java/lt/autoservis/u5/model/repository/UserRepository.java
new file mode 100644
--- /dev/null	(date 1659962184610)
+++ b/src/main/java/lt/autoservis/u5/model/repository/UserRepository.java	(date 1659962184610)
@@ -0,0 +1,8 @@
+package lt.autoservis.u5.model.repository;
+
+import lt.autoservis.u5.model.entity.User;
+import org.springframework.data.jpa.repository.JpaRepository;
+
+public interface UserRepository extends JpaRepository<User, Long> {
+    User findByEmail(String email);
+}
Index: src/main/java/lt/autoservis/u5/model/repository/ProductRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/repository/ProductRepository.java b/src/main/java/lt/autoservis/u5/model/repository/ProductRepository.java
new file mode 100644
--- /dev/null	(date 1659962184610)
+++ b/src/main/java/lt/autoservis/u5/model/repository/ProductRepository.java	(date 1659962184610)
@@ -0,0 +1,10 @@
+package lt.autoservis.u5.model.repository;
+
+import lt.autoservis.u5.model.entity.Product;
+import org.springframework.data.jpa.repository.JpaRepository;
+
+import java.util.List;
+
+public interface ProductRepository extends JpaRepository<Product, Long> {
+    List<Product> findByTitle(String title);
+}
Index: src/main/java/lt/autoservis/u5/controller/UserController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/UserController.java b/src/main/java/lt/autoservis/u5/controller/UserController.java
new file mode 100644
--- /dev/null	(date 1659962184641)
+++ b/src/main/java/lt/autoservis/u5/controller/UserController.java	(date 1659962184641)
@@ -0,0 +1,56 @@
+package lt.autoservis.u5.controller;
+
+import lombok.RequiredArgsConstructor;
+import lt.autoservis.u5.model.entity.User;
+import lt.autoservis.u5.services.UserService;
+import org.springframework.stereotype.Controller;
+import org.springframework.ui.Model;
+import org.springframework.web.bind.annotation.GetMapping;
+import org.springframework.web.bind.annotation.PathVariable;
+import org.springframework.web.bind.annotation.PostMapping;
+
+import java.security.Principal;
+
+@Controller
+@RequiredArgsConstructor
+public class UserController {
+    private final UserService userService;
+
+    @GetMapping("/login")
+    public String login(Principal principal, Model model) {
+        model.addAttribute("user", userService.getUserByPrincipal(principal));
+        return "login";
+    }
+
+    @GetMapping("/profile")
+    public String profile(Principal principal,
+                          Model model) {
+        User user = userService.getUserByPrincipal(principal);
+        model.addAttribute("user", user);
+        return "profile";
+    }
+
+    @GetMapping("/registration")
+    public String registration(Principal principal, Model model) {
+        model.addAttribute("user", userService.getUserByPrincipal(principal));
+        return "registration";
+    }
+
+
+    @PostMapping("/registration")
+    public String createUser(User user, Model model) {
+        if (!userService.createUser(user)) {
+            model.addAttribute("errorMessage", "Пользователь с email: " + user.getEmail() + " уже существует");
+            return "registration";
+        }
+        return "redirect:/login";
+    }
+
+    @GetMapping("/user/{user}")
+    public String userInfo(@PathVariable("user") User user, Model model, Principal principal) {
+        model.addAttribute("user", user);
+        model.addAttribute("userByPrincipal", userService.getUserByPrincipal(principal));
+        model.addAttribute("products", user.getProducts());
+        return "user-info";
+    }
+}
Index: src/main/java/lt/autoservis/u5/controller/ImageController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/ImageController.java b/src/main/java/lt/autoservis/u5/controller/ImageController.java
new file mode 100644
--- /dev/null	(date 1659962184626)
+++ b/src/main/java/lt/autoservis/u5/controller/ImageController.java	(date 1659962184626)
@@ -0,0 +1,29 @@
+package lt.autoservis.u5.controller;
+
+import lt.autoservis.u5.model.entity.Image;
+import lt.autoservis.u5.model.repository.ImageRepository;
+import lombok.RequiredArgsConstructor;
+import org.springframework.core.io.InputStreamResource;
+import org.springframework.http.MediaType;
+import org.springframework.http.ResponseEntity;
+import org.springframework.web.bind.annotation.GetMapping;
+import org.springframework.web.bind.annotation.PathVariable;
+import org.springframework.web.bind.annotation.RestController;
+
+import java.io.ByteArrayInputStream;
+
+@RestController
+@RequiredArgsConstructor
+public class ImageController {
+    private final ImageRepository imageRepository;
+
+    @GetMapping("/images/{id}")
+    private ResponseEntity<?> getImageById(@PathVariable Long id) {
+        Image image = imageRepository.findById(id).orElse(null);
+        return ResponseEntity.ok()
+                .header("fileName", image.getOriginalFileName())
+                .contentType(MediaType.valueOf(image.getContentType()))
+                .contentLength(image.getSize())
+                .body(new InputStreamResource(new ByteArrayInputStream(image.getBytes())));
+    }
+}
Index: src/main/java/lt/autoservis/u5/model/entity/Vertinimas.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lt.autoservis.u5.model.entity;\r\n\r\nimport com.fasterxml.jackson.annotation.JsonIgnore;\r\n\r\nimport javax.persistence.*;\r\nimport java.time.LocalDate;\r\nimport java.util.Set;\r\n\r\n@Entity\r\npublic class Vertinimas {\r\n\r\n    @Id\r\n    @GeneratedValue(strategy = GenerationType.IDENTITY)\r\n    private long id;\r\n    private int balas;\r\n    private LocalDate data;\r\n    private String komentaras;\r\n\r\n    @JsonIgnore\r\n    @ManyToOne\r\n    @JoinColumn(name = \"meistrai_id\")\r\n    private Meistrai meistroVertinimas;\r\n\r\n\r\n    @ManyToMany\r\n    @JoinTable(\r\n            name = \"vartotoju_vertinimai\",\r\n            joinColumns = @JoinColumn(name = \"vertinimas_id\"),\r\n            inverseJoinColumns = @JoinColumn(name = \"vartotojo_id\")\r\n    )\r\n    private Set<Vartotojas> vartotojaiKurieVertino;\r\n\r\n    public Vertinimas() {\r\n    }\r\n\r\n    public Vertinimas(long id, int balas, LocalDate data, String komentaras, Meistrai meistroVertinimas, Set<Vartotojas> vartotojaiKurieVertino) {\r\n        this.id = id;\r\n        this.balas = balas;\r\n        this.data = data;\r\n        this.komentaras = komentaras;\r\n        this.meistroVertinimas = meistroVertinimas;\r\n        this.vartotojaiKurieVertino = vartotojaiKurieVertino;\r\n    }\r\n\r\n    public long getId() {\r\n        return id;\r\n    }\r\n\r\n    public void setId(long id) {\r\n        this.id = id;\r\n    }\r\n\r\n    public int getBalas() {\r\n        return balas;\r\n    }\r\n\r\n    public void setBalas(int balas) {\r\n        this.balas = balas;\r\n    }\r\n\r\n    public LocalDate getData() {\r\n        return data;\r\n    }\r\n\r\n    public void setData(LocalDate data) {\r\n        this.data = data;\r\n    }\r\n\r\n    public String getKomentaras() {\r\n        return komentaras;\r\n    }\r\n\r\n    public void setKomentaras(String komentaras) {\r\n        this.komentaras = komentaras;\r\n    }\r\n\r\n    public Meistrai getMeistroVertinimas() {\r\n        return meistroVertinimas;\r\n    }\r\n\r\n    public void setMeistroVertinimas(Meistrai meistroVertinimas) {\r\n        this.meistroVertinimas = meistroVertinimas;\r\n    }\r\n\r\n    public Set<Vartotojas> getVartotojaiKurieVertino() {\r\n        return vartotojaiKurieVertino;\r\n    }\r\n\r\n    public void setVartotojaiKurieVertino(Set<Vartotojas> vartotojaiKurieVertino) {\r\n        this.vartotojaiKurieVertino = vartotojaiKurieVertino;\r\n    }\r\n\r\n    @Override\r\n    public String toString() {\r\n        return \"Vertinimas{\" +\r\n                \"id=\" + id +\r\n                \", balas=\" + balas +\r\n                \", data=\" + data +\r\n                \", komentaras='\" + komentaras + '\\'' +\r\n                \", meistroVertinimas=\" + meistroVertinimas +\r\n                \", vartotojaiKurieVertino=\" + vartotojaiKurieVertino +\r\n                '}';\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/entity/Vertinimas.java b/src/main/java/lt/autoservis/u5/model/entity/Vertinimas.java
--- a/src/main/java/lt/autoservis/u5/model/entity/Vertinimas.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/src/main/java/lt/autoservis/u5/model/entity/Vertinimas.java	(date 1659962184610)
@@ -4,7 +4,6 @@
 
 import javax.persistence.*;
 import java.time.LocalDate;
-import java.util.Set;
 
 @Entity
 public class Vertinimas {
@@ -22,83 +21,13 @@
     private Meistrai meistroVertinimas;
 
 
-    @ManyToMany
-    @JoinTable(
-            name = "vartotoju_vertinimai",
-            joinColumns = @JoinColumn(name = "vertinimas_id"),
-            inverseJoinColumns = @JoinColumn(name = "vartotojo_id")
-    )
-    private Set<Vartotojas> vartotojaiKurieVertino;
-
-    public Vertinimas() {
-    }
-
-    public Vertinimas(long id, int balas, LocalDate data, String komentaras, Meistrai meistroVertinimas, Set<Vartotojas> vartotojaiKurieVertino) {
-        this.id = id;
-        this.balas = balas;
-        this.data = data;
-        this.komentaras = komentaras;
-        this.meistroVertinimas = meistroVertinimas;
-        this.vartotojaiKurieVertino = vartotojaiKurieVertino;
-    }
-
-    public long getId() {
-        return id;
-    }
+//    @ManyToMany
+//    @JoinTable(
+//            name = "vartotoju_vertinimai",
+//            joinColumns = @JoinColumn(name = "vertinimas_id"),
+//            inverseJoinColumns = @JoinColumn(name = "vartotojo_id")
+//    )
+//    private Set<Vartotojas> vartotojaiKurieVertino;
 
-    public void setId(long id) {
-        this.id = id;
-    }
 
-    public int getBalas() {
-        return balas;
-    }
-
-    public void setBalas(int balas) {
-        this.balas = balas;
-    }
-
-    public LocalDate getData() {
-        return data;
-    }
-
-    public void setData(LocalDate data) {
-        this.data = data;
-    }
-
-    public String getKomentaras() {
-        return komentaras;
-    }
-
-    public void setKomentaras(String komentaras) {
-        this.komentaras = komentaras;
-    }
-
-    public Meistrai getMeistroVertinimas() {
-        return meistroVertinimas;
-    }
-
-    public void setMeistroVertinimas(Meistrai meistroVertinimas) {
-        this.meistroVertinimas = meistroVertinimas;
-    }
-
-    public Set<Vartotojas> getVartotojaiKurieVertino() {
-        return vartotojaiKurieVertino;
-    }
-
-    public void setVartotojaiKurieVertino(Set<Vartotojas> vartotojaiKurieVertino) {
-        this.vartotojaiKurieVertino = vartotojaiKurieVertino;
-    }
-
-    @Override
-    public String toString() {
-        return "Vertinimas{" +
-                "id=" + id +
-                ", balas=" + balas +
-                ", data=" + data +
-                ", komentaras='" + komentaras + '\'' +
-                ", meistroVertinimas=" + meistroVertinimas +
-                ", vartotojaiKurieVertino=" + vartotojaiKurieVertino +
-                '}';
-    }
 }
Index: src/main/java/lt/autoservis/u5/controller/ProductController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/ProductController.java b/src/main/java/lt/autoservis/u5/controller/ProductController.java
new file mode 100644
--- /dev/null	(date 1659962184641)
+++ b/src/main/java/lt/autoservis/u5/controller/ProductController.java	(date 1659962184641)
@@ -0,0 +1,61 @@
+package lt.autoservis.u5.controller;
+
+import lt.autoservis.u5.model.entity.User;
+import lt.autoservis.u5.services.ProductService;
+import lombok.RequiredArgsConstructor;
+import lt.autoservis.u5.model.entity.Product;
+import org.springframework.stereotype.Controller;
+import org.springframework.ui.Model;
+import org.springframework.web.bind.annotation.GetMapping;
+import org.springframework.web.bind.annotation.PathVariable;
+import org.springframework.web.bind.annotation.PostMapping;
+import org.springframework.web.bind.annotation.RequestParam;
+import org.springframework.web.multipart.MultipartFile;
+
+import java.io.IOException;
+import java.security.Principal;
+
+@Controller
+@RequiredArgsConstructor
+public class ProductController {
+    private final ProductService productService;
+
+    @GetMapping("/")
+    public String products(@RequestParam(name = "searchWord", required = false) String title, Principal principal, Model model) {
+        model.addAttribute("products", productService.listProducts(title));
+        model.addAttribute("user", productService.getUserByPrincipal(principal));
+        model.addAttribute("searchWord", title);
+        return "products";
+    }
+
+    @GetMapping("/product/{id}")
+    public String productInfo(@PathVariable Long id, Model model, Principal principal) {
+        Product product = productService.getProductById(id);
+        model.addAttribute("user", productService.getUserByPrincipal(principal));
+        model.addAttribute("product", product);
+        model.addAttribute("images", product.getImages());
+        model.addAttribute("authorProduct", product.getUser());
+        return "product-info";
+    }
+
+    @PostMapping("/product/create")
+    public String createProduct(@RequestParam("file1") MultipartFile file1, @RequestParam("file2") MultipartFile file2,
+                                @RequestParam("file3") MultipartFile file3, Product product, Principal principal) throws IOException {
+        productService.saveProduct(principal, product, file1, file2, file3);
+        return "redirect:/my/products";
+    }
+
+    @PostMapping("/product/delete/{id}")
+    public String deleteProduct(@PathVariable Long id, Principal principal) {
+        productService.deleteProduct(productService.getUserByPrincipal(principal), id);
+        return "redirect:/my/products";
+    }
+
+    @GetMapping("/my/products")
+    public String userProducts(Principal principal, Model model) {
+        User user = productService.getUserByPrincipal(principal);
+        model.addAttribute("user", user);
+        model.addAttribute("products", user.getProducts());
+        return "my-products";
+    }
+}
Index: src/main/java/lt/autoservis/u5/controller/AdminController.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/controller/AdminController.java b/src/main/java/lt/autoservis/u5/controller/AdminController.java
new file mode 100644
--- /dev/null	(date 1659962184641)
+++ b/src/main/java/lt/autoservis/u5/controller/AdminController.java	(date 1659962184641)
@@ -0,0 +1,50 @@
+package lt.autoservis.u5.controller;
+
+import lt.autoservis.u5.model.entity.User;
+import lt.autoservis.u5.model.enums.Role;
+import lombok.RequiredArgsConstructor;
+import lt.autoservis.u5.services.UserService;
+import org.springframework.security.access.prepost.PreAuthorize;
+import org.springframework.stereotype.Controller;
+import org.springframework.ui.Model;
+import org.springframework.web.bind.annotation.GetMapping;
+import org.springframework.web.bind.annotation.PathVariable;
+import org.springframework.web.bind.annotation.PostMapping;
+import org.springframework.web.bind.annotation.RequestParam;
+
+import java.security.Principal;
+import java.util.Map;
+
+@Controller
+@RequiredArgsConstructor
+@PreAuthorize("hasAuthority('ROLE_ADMIN')")
+public class AdminController {
+    private final UserService userService;
+
+    @GetMapping("/admin")
+    public String admin(Model model, Principal principal) {
+        model.addAttribute("users", userService.list());
+        model.addAttribute("user", userService.getUserByPrincipal(principal));
+        return "admin";
+    }
+
+    @PostMapping("/admin/user/ban/{id}")
+    public String userBan(@PathVariable("id") Long id) {
+        userService.banUser(id);
+        return "redirect:/admin";
+    }
+
+    @GetMapping("/admin/user/edit/{user}")
+    public String userEdit(@PathVariable("user") User user, Model model, Principal principal) {
+        model.addAttribute("user", user);
+        model.addAttribute("user", userService.getUserByPrincipal(principal));
+        model.addAttribute("roles", Role.values());
+        return "user-edit";
+    }
+
+    @PostMapping("/admin/user/edit")
+    public String userEdit(@RequestParam("userId") User user, @RequestParam Map<String, String> form) {
+        userService.changeUserRoles(user, form);
+        return "redirect:/admin";
+    }
+}
Index: .mvn/wrapper/MavenWrapperDownloader.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.mvn/wrapper/MavenWrapperDownloader.java b/.mvn/wrapper/MavenWrapperDownloader.java
new file mode 100644
--- /dev/null	(date 1659962184548)
+++ b/.mvn/wrapper/MavenWrapperDownloader.java	(date 1659962184548)
@@ -0,0 +1,117 @@
+/*
+ * Copyright 2007-present the original author or authors.
+ *
+ * Licensed under the Apache License, Version 2.0 (the "License");
+ * you may not use this file except in compliance with the License.
+ * You may obtain a copy of the License at
+ *
+ *      https://www.apache.org/licenses/LICENSE-2.0
+ *
+ * Unless required by applicable law or agreed to in writing, software
+ * distributed under the License is distributed on an "AS IS" BASIS,
+ * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ * See the License for the specific language governing permissions and
+ * limitations under the License.
+ */
+import java.net.*;
+import java.io.*;
+import java.nio.channels.*;
+import java.util.Properties;
+
+public class MavenWrapperDownloader {
+
+    private static final String WRAPPER_VERSION = "0.5.6";
+    /**
+     * Default URL to download the maven-wrapper.jar from, if no 'downloadUrl' is provided.
+     */
+    private static final String DEFAULT_DOWNLOAD_URL = "https://repo.maven.apache.org/maven2/io/takari/maven-wrapper/"
+        + WRAPPER_VERSION + "/maven-wrapper-" + WRAPPER_VERSION + ".jar";
+
+    /**
+     * Path to the maven-wrapper.properties file, which might contain a downloadUrl property to
+     * use instead of the default one.
+     */
+    private static final String MAVEN_WRAPPER_PROPERTIES_PATH =
+            ".mvn/wrapper/maven-wrapper.properties";
+
+    /**
+     * Path where the maven-wrapper.jar will be saved to.
+     */
+    private static final String MAVEN_WRAPPER_JAR_PATH =
+            ".mvn/wrapper/maven-wrapper.jar";
+
+    /**
+     * Name of the property which should be used to override the default download url for the wrapper.
+     */
+    private static final String PROPERTY_NAME_WRAPPER_URL = "wrapperUrl";
+
+    public static void main(String args[]) {
+        System.out.println("- Downloader started");
+        File baseDirectory = new File(args[0]);
+        System.out.println("- Using base directory: " + baseDirectory.getAbsolutePath());
+
+        // If the maven-wrapper.properties exists, read it and check if it contains a custom
+        // wrapperUrl parameter.
+        File mavenWrapperPropertyFile = new File(baseDirectory, MAVEN_WRAPPER_PROPERTIES_PATH);
+        String url = DEFAULT_DOWNLOAD_URL;
+        if(mavenWrapperPropertyFile.exists()) {
+            FileInputStream mavenWrapperPropertyFileInputStream = null;
+            try {
+                mavenWrapperPropertyFileInputStream = new FileInputStream(mavenWrapperPropertyFile);
+                Properties mavenWrapperProperties = new Properties();
+                mavenWrapperProperties.load(mavenWrapperPropertyFileInputStream);
+                url = mavenWrapperProperties.getProperty(PROPERTY_NAME_WRAPPER_URL, url);
+            } catch (IOException e) {
+                System.out.println("- ERROR loading '" + MAVEN_WRAPPER_PROPERTIES_PATH + "'");
+            } finally {
+                try {
+                    if(mavenWrapperPropertyFileInputStream != null) {
+                        mavenWrapperPropertyFileInputStream.close();
+                    }
+                } catch (IOException e) {
+                    // Ignore ...
+                }
+            }
+        }
+        System.out.println("- Downloading from: " + url);
+
+        File outputFile = new File(baseDirectory.getAbsolutePath(), MAVEN_WRAPPER_JAR_PATH);
+        if(!outputFile.getParentFile().exists()) {
+            if(!outputFile.getParentFile().mkdirs()) {
+                System.out.println(
+                        "- ERROR creating output directory '" + outputFile.getParentFile().getAbsolutePath() + "'");
+            }
+        }
+        System.out.println("- Downloading to: " + outputFile.getAbsolutePath());
+        try {
+            downloadFileFromURL(url, outputFile);
+            System.out.println("Done");
+            System.exit(0);
+        } catch (Throwable e) {
+            System.out.println("- Error downloading");
+            e.printStackTrace();
+            System.exit(1);
+        }
+    }
+
+    private static void downloadFileFromURL(String urlString, File destination) throws Exception {
+        if (System.getenv("MVNW_USERNAME") != null && System.getenv("MVNW_PASSWORD") != null) {
+            String username = System.getenv("MVNW_USERNAME");
+            char[] password = System.getenv("MVNW_PASSWORD").toCharArray();
+            Authenticator.setDefault(new Authenticator() {
+                @Override
+                protected PasswordAuthentication getPasswordAuthentication() {
+                    return new PasswordAuthentication(username, password);
+                }
+            });
+        }
+        URL website = new URL(urlString);
+        ReadableByteChannel rbc;
+        rbc = Channels.newChannel(website.openStream());
+        FileOutputStream fos = new FileOutputStream(destination);
+        fos.getChannel().transferFrom(rbc, 0, Long.MAX_VALUE);
+        fos.close();
+        rbc.close();
+    }
+
+}
Index: src/main/resources/templates/admin.ftlh
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/resources/templates/admin.ftlh b/src/main/resources/templates/admin.ftlh
new file mode 100644
--- /dev/null	(date 1659962184516)
+++ b/src/main/resources/templates/admin.ftlh	(date 1659962184516)
@@ -0,0 +1,33 @@
+<#import "blocks/template.ftlh" as t>
+<@t.template user>
+    `<h1 style="text-align: center">Панель администратора</h1><hr>
+    <table class="table table-hover table-dark">
+        <tr>
+            <th scope="col">Email</th>
+            <th scope="col">Номер телефона</th>
+            <th scope="col">Активность</th>
+            <th scope="col">Роли</th>
+            <th scope="col">Бан</th>
+            <th scope="col">Редактирование</th>
+            <th scope="col">Подробная информация</th>
+        </tr>
+        <#list users as user>
+            <tr>
+                <th>${user.email}</th>
+                <th>${user.phoneNumber}</th>
+                <th><#if user.active>true<#else>false</#if></th>
+                <th><#list user.roles as role>${role}</#list></th>
+                <th>
+                    <form action="/admin/user/ban/${user.id}" method="post">
+                        <input type="hidden" name="_csrf" value="${_csrf.token}">
+                        <input type="submit" class="btn btn-light" value="Бан">
+                    </form>
+                </th>
+                <th><a href="/admin/user/edit/${user.id}">Редактировние</a></th>
+                <th><a href="/user/${user.id}">Подробная информация</a></th>
+            </tr>
+        <#else>
+            <h3>Пользователей нет</h3>
+        </#list>
+    </table>
+</@t.template>
\ No newline at end of file
Index: target/classes/application.properties
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>spring.datasource.url=jdbc:mysql://sql504.main-hosting.eu/u355634419_autoservis2?server Timezone=UTC&characterEncoding=utf8\r\nspring.datasource.username=u355634419_gerimantas\r\nspring.datasource.password=Ziedas+1\r\nspring.flyway.check-location = false\r\nspring.datasource.driver-class-name=com.mysql.cj.jdbc.Driver\r\nspring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect\r\nspring.jpa.hibernate.ddl-auto=update\r\n\r\n\r\n\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>ISO-8859-1
===================================================================
diff --git a/target/classes/application.properties b/target/classes/application.properties
--- a/target/classes/application.properties	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/target/classes/application.properties	(date 1659962193239)
@@ -6,5 +6,10 @@
 spring.jpa.database-platform=org.hibernate.dialect.MySQL5InnoDBDialect
 spring.jpa.hibernate.ddl-auto=update
 
+spring.freemarker.expose-request-attributes=true
+
+spring.servlet.multipart.max-file-size=100MB
+spring.servlet.multipart.max-request-size=100MB
+
 
 
Index: src/main/java/lt/autoservis/u5/model/repository/VertinimasRepository.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package lt.autoservis.u5.model.repository;\r\n\r\nimport lt.autoservis.u5.model.entity.Vertinimas;\r\nimport org.springframework.data.jpa.repository.JpaRepository;\r\nimport org.springframework.stereotype.Repository;\r\n\r\n@Repository\r\npublic interface VertinimasRepository extends JpaRepository<Vertinimas,Long> {\r\n    Vertinimas findById(long id);\r\n    Vertinimas findByBalas(long id);\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/model/repository/VertinimasRepository.java b/src/main/java/lt/autoservis/u5/model/repository/VertinimasRepository.java
--- a/src/main/java/lt/autoservis/u5/model/repository/VertinimasRepository.java	(revision 82322969d0726ab659d50bc6dfa9c56d1b77bc81)
+++ b/src/main/java/lt/autoservis/u5/model/repository/VertinimasRepository.java	(date 1659962184626)
@@ -6,6 +6,6 @@
 
 @Repository
 public interface VertinimasRepository extends JpaRepository<Vertinimas,Long> {
-    Vertinimas findById(long id);
-    Vertinimas findByBalas(long id);
+//    Vertinimas findById(long id);
+//    Vertinimas findByBalas(long id);
 }
Index: src/main/java/lt/autoservis/u5/configurations/SecurityConfig.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/configurations/SecurityConfig.java b/src/main/java/lt/autoservis/u5/configurations/SecurityConfig.java
new file mode 100644
--- /dev/null	(date 1659962184563)
+++ b/src/main/java/lt/autoservis/u5/configurations/SecurityConfig.java	(date 1659962184563)
@@ -0,0 +1,46 @@
+package lt.autoservis.u5.configurations;
+
+import lt.autoservis.u5.services.CustomUserDetailsService;
+import lombok.RequiredArgsConstructor;
+import org.springframework.context.annotation.Bean;
+import org.springframework.security.config.annotation.authentication.builders.AuthenticationManagerBuilder;
+import org.springframework.security.config.annotation.method.configuration.EnableGlobalMethodSecurity;
+import org.springframework.security.config.annotation.web.builders.HttpSecurity;
+import org.springframework.security.config.annotation.web.configuration.EnableWebSecurity;
+import org.springframework.security.config.annotation.web.configuration.WebSecurityConfigurerAdapter;
+import org.springframework.security.crypto.bcrypt.BCryptPasswordEncoder;
+import org.springframework.security.crypto.password.PasswordEncoder;
+
+@EnableWebSecurity
+@RequiredArgsConstructor
+@EnableGlobalMethodSecurity(prePostEnabled = true)
+public class SecurityConfig extends WebSecurityConfigurerAdapter {
+    private final CustomUserDetailsService userDetailsService;
+
+    @Override
+    protected void configure(HttpSecurity http) throws Exception {
+        http
+                .authorizeRequests()
+                .antMatchers("/", "/product/**", "/images/**", "/registration", "/user/**", "/static/**")
+                .permitAll()
+                .anyRequest().authenticated()
+                .and()
+                .formLogin()
+                .loginPage("/login")
+                .permitAll()
+                .and()
+                .logout()
+                .permitAll();
+    }
+
+    @Override
+    protected void configure(AuthenticationManagerBuilder auth) throws Exception {
+        auth.userDetailsService(userDetailsService)
+                .passwordEncoder(passwordEncoder());
+    }
+
+    @Bean
+    public PasswordEncoder passwordEncoder() {
+        return new BCryptPasswordEncoder(8);
+    }
+}
Index: src/main/java/lt/autoservis/u5/configurations/MvcConfig.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/configurations/MvcConfig.java b/src/main/java/lt/autoservis/u5/configurations/MvcConfig.java
new file mode 100644
--- /dev/null	(date 1659962184563)
+++ b/src/main/java/lt/autoservis/u5/configurations/MvcConfig.java	(date 1659962184563)
@@ -0,0 +1,15 @@
+package lt.autoservis.u5.configurations;
+
+import org.springframework.context.annotation.Configuration;
+import org.springframework.web.servlet.config.annotation.ResourceHandlerRegistry;
+import org.springframework.web.servlet.config.annotation.WebMvcConfigurer;
+
+@Configuration
+public class MvcConfig implements WebMvcConfigurer {
+
+    @Override
+    public void addResourceHandlers(ResourceHandlerRegistry registry) {
+        registry.addResourceHandler("/static/**")
+                .addResourceLocations("classpath:/static/");
+    }
+}
Index: src/main/java/lt/autoservis/u5/services/UserService.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/src/main/java/lt/autoservis/u5/services/UserService.java b/src/main/java/lt/autoservis/u5/services/UserService.java
new file mode 100644
--- /dev/null	(date 1659962184594)
+++ b/src/main/java/lt/autoservis/u5/services/UserService.java	(date 1659962184594)
@@ -0,0 +1,71 @@
+package lt.autoservis.u5.services;
+
+import lt.autoservis.u5.model.entity.User;
+import lt.autoservis.u5.model.enums.Role;
+import lt.autoservis.u5.model.repository.UserRepository;
+import lombok.RequiredArgsConstructor;
+import lombok.extern.slf4j.Slf4j;
+import org.springframework.security.crypto.password.PasswordEncoder;
+import org.springframework.stereotype.Service;
+
+import java.security.Principal;
+import java.util.Arrays;
+import java.util.List;
+import java.util.Map;
+import java.util.Set;
+import java.util.stream.Collectors;
+
+@Service
+@Slf4j
+@RequiredArgsConstructor
+public class UserService {
+    private final UserRepository userRepository;
+    private final PasswordEncoder passwordEncoder;
+
+    public boolean createUser(User user) {
+        String email = user.getEmail();
+        if (userRepository.findByEmail(email) != null) return false;
+        user.setActive(true);
+        user.setPassword(passwordEncoder.encode(user.getPassword()));
+        user.getRoles().add(Role.ROLE_USER);
+        log.info("Saving new User with email: {}", email);
+        userRepository.save(user);
+        return true;
+    }
+
+    public List<User> list() {
+        return userRepository.findAll();
+    }
+
+    public void banUser(Long id) {
+        User user = userRepository.findById(id).orElse(null);
+        if (user != null) {
+            if (user.isActive()) {
+                user.setActive(false);
+                log.info("Ban user with id = {}; email: {}", user.getId(), user.getEmail());
+            } else {
+                user.setActive(true);
+                log.info("Unban user with id = {}; email: {}", user.getId(), user.getEmail());
+            }
+        }
+        userRepository.save(user);
+    }
+
+    public void changeUserRoles(User user, Map<String, String> form) {
+        Set<String> roles = Arrays.stream(Role.values())
+                .map(Role::name)
+                .collect(Collectors.toSet());
+        user.getRoles().clear();
+        for (String key : form.keySet()) {
+            if (roles.contains(key)) {
+                user.getRoles().add(Role.valueOf(key));
+            }
+        }
+        userRepository.save(user);
+    }
+
+    public User getUserByPrincipal(Principal principal) {
+        if (principal == null) return new User();
+        return userRepository.findByEmail(principal.getName());
+    }
+}
diff --git a/src/main/resources/templates/ideti_autoservisa.html b/src/main/resources/templates2/ideti_autoservisa.html
rename from src/main/resources/templates/ideti_autoservisa.html
rename to src/main/resources/templates2/ideti_autoservisa.html
diff --git a/src/main/resources/templates/duomenys_autoservisai.html b/src/main/resources/templates2/duomenys_autoservisai.html
rename from src/main/resources/templates/duomenys_autoservisai.html
rename to src/main/resources/templates2/duomenys_autoservisai.html
diff --git a/src/main/resources/templates/specializacijos_autoservisai.html b/src/main/resources/templates2/specializacijos_autoservisai.html
rename from src/main/resources/templates/specializacijos_autoservisai.html
rename to src/main/resources/templates2/specializacijos_autoservisai.html
diff --git a/src/main/resources/templates/hello.html b/src/main/resources/templates2/hello.html
rename from src/main/resources/templates/hello.html
rename to src/main/resources/templates2/hello.html
diff --git a/src/main/resources/templates/ideta_specializacija.html b/src/main/resources/templates2/ideta_specializacija.html
rename from src/main/resources/templates/ideta_specializacija.html
rename to src/main/resources/templates2/ideta_specializacija.html
diff --git a/src/main/resources/templates/testas_autoservisai.html b/src/main/resources/templates2/testas_autoservisai.html
rename from src/main/resources/templates/testas_autoservisai.html
rename to src/main/resources/templates2/testas_autoservisai.html
diff --git a/src/main/resources/templates/duomenys_meistrai.html b/src/main/resources/templates2/duomenys_meistrai.html
rename from src/main/resources/templates/duomenys_meistrai.html
rename to src/main/resources/templates2/duomenys_meistrai.html
diff --git a/src/main/resources/templates/visi_autoservisai.html b/src/main/resources/templates2/visi_autoservisai.html
rename from src/main/resources/templates/visi_autoservisai.html
rename to src/main/resources/templates2/visi_autoservisai.html
diff --git a/src/main/resources/templates/autoserviso_redagavimas.html b/src/main/resources/templates2/autoserviso_redagavimas.html
rename from src/main/resources/templates/autoserviso_redagavimas.html
rename to src/main/resources/templates2/autoserviso_redagavimas.html
diff --git a/src/main/resources/templates/visi_meistrai.html b/src/main/resources/templates2/visi_meistrai.html
rename from src/main/resources/templates/visi_meistrai.html
rename to src/main/resources/templates2/visi_meistrai.html
diff --git a/src/main/resources/templates/testinis.html b/src/main/resources/templates2/testinis.html
rename from src/main/resources/templates/testinis.html
rename to src/main/resources/templates2/testinis.html
diff --git a/src/main/resources/templates/home.html b/src/main/resources/templates2/home.html
rename from src/main/resources/templates/home.html
rename to src/main/resources/templates2/home.html
diff --git a/src/main/resources/templates/ivertinti_meistra.html b/src/main/resources/templates2/ivertinti_meistra.html
rename from src/main/resources/templates/ivertinti_meistra.html
rename to src/main/resources/templates2/ivertinti_meistra.html
diff --git a/src/main/resources/templates/idetas_autoservisas.html b/src/main/resources/templates2/idetas_autoservisas.html
rename from src/main/resources/templates/idetas_autoservisas.html
rename to src/main/resources/templates2/idetas_autoservisas.html
diff --git a/src/main/resources/templates/visos_specializacijos.html b/src/main/resources/templates2/visos_specializacijos.html
rename from src/main/resources/templates/visos_specializacijos.html
rename to src/main/resources/templates2/visos_specializacijos.html
diff --git a/src/main/resources/templates/login.html b/src/main/resources/templates2/login.html
rename from src/main/resources/templates/login.html
rename to src/main/resources/templates2/login.html
diff --git a/src/main/resources/templates/ideti_specializacija.html b/src/main/resources/templates2/ideti_specializacija.html
rename from src/main/resources/templates/ideti_specializacija.html
rename to src/main/resources/templates2/ideti_specializacija.html
diff --git a/src/main/resources/templates/redaguotas_autoservisas.html b/src/main/resources/templates2/redaguotas_autoservisas.html
rename from src/main/resources/templates/redaguotas_autoservisas.html
rename to src/main/resources/templates2/redaguotas_autoservisas.html
diff --git a/src/main/resources/templates/duomenys_specializacijos.html b/src/main/resources/templates2/duomenys_specializacijos.html
rename from src/main/resources/templates/duomenys_specializacijos.html
rename to src/main/resources/templates2/duomenys_specializacijos.html
diff --git a/src/main/resources/templates/autoservisai_specializacijos.html b/src/main/resources/templates2/autoservisai_specializacijos.html
rename from src/main/resources/templates/autoservisai_specializacijos.html
rename to src/main/resources/templates2/autoservisai_specializacijos.html
